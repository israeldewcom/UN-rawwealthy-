<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Raw Wealthy - Premium Raw Materials Investment Platform</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Invest in raw materials like cocoa, gold, and crude oil. Earn daily returns with secure, high-yield investment plans starting from â‚¦3,500.">
    <meta name="keywords" content="raw materials investment, cocoa beans, gold investment, crude oil, daily earnings, investment platform">
    <meta name="author" content="Raw Wealthy">
    <meta property="og:title" content="Raw Wealthy - Premium Raw Materials Investment">
    <meta property="og:description" content="Start earning daily from raw materials investments">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rawwealthy.com">
    <meta property="og:image" content="https://rawwealthy.com/og-image.png">
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.3.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@1.2.1"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <style>
        /* ==================== CSS VARIABLES (MOBILE-FIRST) ==================== */
        :root {
            /* Primary Colors */
            --primary: #0f172a;
            --primary-dark: #020617;
            --primary-light: #1e293b;
            
            /* Accent Colors */
            --accent-gold: #f59e0b;
            --accent-gold-dark: #d97706;
            --accent-gold-light: #fbbf24;
            --accent-emerald: #10b981;
            --accent-emerald-dark: #059669;
            --accent-emerald-light: #34d399;
            --accent-blue: #3b82f6;
            --accent-blue-dark: #2563eb;
            --accent-blue-light: #60a5fa;
            --accent-purple: #8b5cf6;
            --accent-purple-dark: #7c3aed;
            --accent-purple-light: #a78bfa;
            
            /* Status Colors */
            --success: #10b981;
            --success-light: rgba(16, 185, 129, 0.1);
            --warning: #f59e0b;
            --warning-light: rgba(245, 158, 11, 0.1);
            --error: #ef4444;
            --error-light: rgba(239, 68, 68, 0.1);
            --info: #3b82f6;
            --info-light: rgba(59, 130, 246, 0.1);
            
            /* Text Colors */
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --text-dark: #0f172a;
            
            /* Background Colors */
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: rgba(30, 41, 59, 0.7);
            --bg-overlay: rgba(15, 23, 42, 0.9);
            --bg-modal: rgba(15, 23, 42, 0.95);
            
            /* Border & Shadow */
            --border-color: rgba(255, 255, 255, 0.1);
            --border-light: rgba(255, 255, 255, 0.05);
            --border-radius: 12px;
            --border-radius-sm: 8px;
            --border-radius-lg: 16px;
            --border-radius-xl: 24px;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            --shadow-md: 0 6px 30px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.25);
            --shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.3);
            
            /* Gradients */
            --gradient-primary: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            --gradient-secondary: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --gradient-blue: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            --gradient-purple: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            --gradient-dark: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            --gradient-gold: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            
            /* Typography */
            --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-secondary: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-size-xs: 0.75rem;     /* 12px */
            --font-size-sm: 0.875rem;    /* 14px */
            --font-size-base: 1rem;      /* 16px */
            --font-size-md: 1.125rem;    /* 18px */
            --font-size-lg: 1.25rem;     /* 20px */
            --font-size-xl: 1.5rem;      /* 24px */
            --font-size-2xl: 1.875rem;   /* 30px */
            --font-size-3xl: 2.25rem;    /* 36px */
            --font-size-4xl: 3rem;       /* 48px */
            
            /* Spacing */
            --spacing-xs: 0.25rem;   /* 4px */
            --spacing-sm: 0.5rem;    /* 8px */
            --spacing-md: 1rem;      /* 16px */
            --spacing-lg: 1.5rem;    /* 24px */
            --spacing-xl: 2rem;      /* 32px */
            --spacing-2xl: 3rem;     /* 48px */
            --spacing-3xl: 4rem;     /* 64px */
            
            /* Transitions */
            --transition-fast: 150ms ease;
            --transition: 300ms ease;
            --transition-slow: 500ms ease;
            --transition-bounce: 600ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* Z-index Layers */
            --z-dropdown: 100;
            --z-sticky: 200;
            --z-fixed: 300;
            --z-modal-backdrop: 400;
            --z-modal: 500;
            --z-popover: 600;
            --z-tooltip: 700;
            --z-toast: 800;
        }

        /* Light Theme Variables */
        [data-theme="light"] {
            --primary: #ffffff;
            --primary-dark: #f8fafc;
            --primary-light: #f1f5f9;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-card: rgba(248, 250, 252, 0.9);
            --bg-overlay: rgba(255, 255, 255, 0.95);
            --bg-modal: rgba(255, 255, 255, 0.98);
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --border-color: rgba(0, 0, 0, 0.1);
            --border-light: rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 6px 30px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.12);
        }

        /* ==================== BASE STYLES (MOBILE-FIRST) ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
            -webkit-text-size-adjust: 100%;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            transition: background-color var(--transition), color var(--transition);
        }

        body.modal-open {
            overflow: hidden;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-secondary);
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: var(--spacing-md);
        }

        h1 {
            font-size: var(--font-size-3xl);
        }

        h2 {
            font-size: var(--font-size-2xl);
        }

        h3 {
            font-size: var(--font-size-xl);
        }

        h4 {
            font-size: var(--font-size-lg);
        }

        p {
            margin-bottom: var(--spacing-md);
        }

        a {
            color: var(--accent-blue);
            text-decoration: none;
            transition: color var(--transition-fast);
        }

        a:hover {
            color: var(--accent-blue-light);
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        /* Utility Classes */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        .section {
            padding: var(--spacing-xl) 0;
        }

        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .text-left {
            text-align: left;
        }

        .d-none {
            display: none !important;
        }

        .d-block {
            display: block !important;
        }

        .d-flex {
            display: flex;
        }

        .d-grid {
            display: grid;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .align-center {
            align-items: center;
        }

        .flex-column {
            flex-direction: column;
        }

        .flex-wrap {
            flex-wrap: wrap;
        }

        .gap-xs {
            gap: var(--spacing-xs);
        }

        .gap-sm {
            gap: var(--spacing-sm);
        }

        .gap-md {
            gap: var(--spacing-md);
        }

        .gap-lg {
            gap: var(--spacing-lg);
        }

        .gap-xl {
            gap: var(--spacing-xl);
        }

        .w-100 {
            width: 100%;
        }

        .h-100 {
            height: 100%;
        }

        .mt-0 { margin-top: 0; }
        .mt-xs { margin-top: var(--spacing-xs); }
        .mt-sm { margin-top: var(--spacing-sm); }
        .mt-md { margin-top: var(--spacing-md); }
        .mt-lg { margin-top: var(--spacing-lg); }
        .mt-xl { margin-top: var(--spacing-xl); }

        .mb-0 { margin-bottom: 0; }
        .mb-xs { margin-bottom: var(--spacing-xs); }
        .mb-sm { margin-bottom: var(--spacing-sm); }
        .mb-md { margin-bottom: var(--spacing-md); }
        .mb-lg { margin-bottom: var(--spacing-lg); }
        .mb-xl { margin-bottom: var(--spacing-xl); }

        .p-0 { padding: 0; }
        .p-xs { padding: var(--spacing-xs); }
        .p-sm { padding: var(--spacing-sm); }
        .p-md { padding: var(--spacing-md); }
        .p-lg { padding: var(--spacing-lg); }
        .p-xl { padding: var(--spacing-xl); }

        .rounded {
            border-radius: var(--border-radius);
        }

        .rounded-sm {
            border-radius: var(--border-radius-sm);
        }

        .rounded-lg {
            border-radius: var(--border-radius-lg);
        }

        .rounded-xl {
            border-radius: var(--border-radius-xl);
        }

        .shadow-sm {
            box-shadow: var(--shadow-sm);
        }

        .shadow {
            box-shadow: var(--shadow);
        }

        .shadow-lg {
            box-shadow: var(--shadow-lg);
        }

        .bg-primary {
            background-color: var(--bg-primary);
        }

        .bg-secondary {
            background-color: var(--bg-secondary);
        }

        .bg-card {
            background-color: var(--bg-card);
            backdrop-filter: blur(10px);
        }

        .text-muted {
            color: var(--text-muted);
        }

        .text-success {
            color: var(--success);
        }

        .text-warning {
            color: var(--warning);
        }

        .text-error {
            color: var(--error);
        }

        .text-info {
            color: var(--info);
        }

        .text-gradient {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-lg);
            font-family: var(--font-secondary);
            font-weight: 600;
            font-size: var(--font-size-base);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all var(--transition);
            text-decoration: none;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--gradient-secondary);
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--accent-emerald);
            color: var(--accent-emerald);
        }

        .btn-outline:hover:not(:disabled) {
            background: var(--accent-emerald);
            color: var(--bg-primary);
        }

        .btn-sm {
            padding: var(--spacing-xs) var(--spacing-md);
            font-size: var(--font-size-sm);
        }

        .btn-lg {
            padding: var(--spacing-md) var(--spacing-xl);
            font-size: var(--font-size-md);
        }

        .btn-full {
            width: 100%;
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            padding: 0;
            border-radius: 50%;
        }

        /* ==================== LOADING & TOAST STYLES ==================== */
        .loading-spinner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-overlay);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: var(--z-modal);
            backdrop-filter: blur(8px);
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(251, 191, 36, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent-gold);
            animation: spin 1s linear infinite;
        }

        .loading-text {
            margin-top: var(--spacing-md);
            color: var(--text-secondary);
            font-size: var(--font-size-md);
        }

        .toast-container {
            position: fixed;
            top: var(--spacing-xl);
            right: var(--spacing-md);
            z-index: var(--z-toast);
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
            max-width: 400px;
            width: calc(100% - var(--spacing-xl));
        }

        .toast {
            background: var(--bg-card);
            border-left: 4px solid var(--accent-gold);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            box-shadow: var(--shadow-lg);
            animation: slideInRight 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-md);
            backdrop-filter: blur(10px);
        }

        .toast.success {
            border-left-color: var(--success);
        }

        .toast.error {
            border-left-color: var(--error);
        }

        .toast.warning {
            border-left-color: var(--warning);
        }

        .toast.info {
            border-left-color: var(--info);
        }

        .toast-icon {
            font-size: var(--font-size-xl);
            flex-shrink: 0;
        }

        .toast-content {
            flex: 1;
        }

        .toast-title {
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .toast-message {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
        }

        .toast-close {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: var(--font-size-md);
            padding: 0;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* ==================== NAVBAR (MOBILE-FIRST) ==================== */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-light);
            z-index: var(--z-fixed);
            padding: var(--spacing-md);
            transition: all var(--transition);
        }

        .navbar.scrolled {
            padding: var(--spacing-sm) var(--spacing-md);
            box-shadow: var(--shadow);
        }

        .navbar-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: var(--spacing-md);
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-size: var(--font-size-lg);
            font-weight: 800;
            color: var(--accent-gold);
            text-decoration: none;
        }

        .navbar-logo {
            font-size: var(--font-size-xl);
            color: var(--accent-emerald);
        }

        .navbar-toggler {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: var(--font-size-xl);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            border-radius: var(--border-radius);
            transition: background-color var(--transition-fast);
        }

        .navbar-toggler:hover {
            background-color: var(--bg-secondary);
        }

        .navbar-menu {
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-light);
            padding: var(--spacing-md);
            transform: translateY(-100%);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition);
            z-index: var(--z-sticky);
        }

        .navbar-menu.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .navbar-nav {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
            list-style: none;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-md);
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: all var(--transition-fast);
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--accent-gold);
            background-color: var(--bg-secondary);
        }

        .nav-icon {
            font-size: var(--font-size-md);
            width: 20px;
        }

        .navbar-actions {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--border-light);
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: var(--font-size-lg);
            cursor: pointer;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color var(--transition-fast);
        }

        .theme-toggle:hover {
            background-color: var(--bg-secondary);
        }

        /* ==================== HERO SECTION ==================== */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            padding-top: 80px;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.8));
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            padding: var(--spacing-xl) var(--spacing-md);
        }

        .hero-title {
            font-size: clamp(var(--font-size-2xl), 5vw, var(--font-size-4xl));
            margin-bottom: var(--spacing-md);
            line-height: 1.1;
        }

        .hero-subtitle {
            font-size: clamp(var(--font-size-md), 3vw, var(--font-size-lg));
            color: var(--text-secondary);
            margin-bottom: var(--spacing-xl);
        }

        .hero-actions {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
            margin-top: var(--spacing-xl);
        }

        @media (min-width: 768px) {
            .hero-stats {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .stat-card {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            text-align: center;
            border: 1px solid var(--border-light);
            transition: transform var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-4px);
        }

        .stat-value {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--accent-gold);
            margin-bottom: var(--spacing-xs);
        }

        .stat-label {
            font-size: var(--font-size-sm);
            color: var(--text-muted);
        }

        /* ==================== INVESTMENT PLANS ==================== */
        .plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            margin-top: var(--spacing-xl);
        }

        .plan-card {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
            transition: all var(--transition);
            position: relative;
            overflow: hidden;
        }

        .plan-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent-gold);
        }

        .plan-badge {
            position: absolute;
            top: var(--spacing-md);
            right: var(--spacing-md);
            background: var(--gradient-primary);
            color: white;
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: 20px;
            font-size: var(--font-size-xs);
            font-weight: 600;
            text-transform: uppercase;
        }

        .plan-header {
            text-align: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-lg);
            border-bottom: 1px solid var(--border-light);
        }

        .plan-icon {
            font-size: 3rem;
            margin-bottom: var(--spacing-md);
        }

        .plan-name {
            font-size: var(--font-size-xl);
            margin-bottom: var(--spacing-sm);
            color: var(--text-primary);
        }

        .plan-price {
            font-size: var(--font-size-2xl);
            font-weight: 800;
            color: var(--accent-gold);
            margin-bottom: var(--spacing-xs);
        }

        .plan-period {
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        .plan-features {
            margin-bottom: var(--spacing-xl);
        }

        .plan-feature {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
            color: var(--text-secondary);
        }

        .plan-feature i {
            color: var(--accent-emerald);
            font-size: var(--font-size-sm);
        }

        /* ==================== DASHBOARD STYLES ==================== */
        .dashboard {
            padding-top: 80px;
            min-height: 100vh;
        }

        .dashboard-header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-light);
            padding: var(--spacing-lg) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .dashboard-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: var(--font-size-xl);
            border: 3px solid var(--accent-emerald);
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-size: var(--font-size-lg);
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .user-tier {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            background: var(--bg-secondary);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: 20px;
            font-size: var(--font-size-sm);
            color: var(--text-muted);
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .stat-item {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            border: 1px solid var(--border-light);
        }

        .stat-item-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            color: var(--text-muted);
            font-size: var(--font-size-sm);
            margin-bottom: var(--spacing-sm);
        }

        .stat-item-value {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            color: var(--accent-gold);
            margin-bottom: var(--spacing-xs);
        }

        .stat-item-change {
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .stat-item-change.positive {
            color: var(--success);
        }

        .stat-item-change.negative {
            color: var(--error);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-xl);
        }

        @media (min-width: 992px) {
            .dashboard-grid {
                grid-template-columns: 2fr 1fr;
            }
        }

        .chart-container {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
            margin-bottom: var(--spacing-xl);
        }

        .chart-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
        }

        .chart-actions {
            display: flex;
            gap: var(--spacing-sm);
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .action-card {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            border: 1px solid var(--border-light);
            text-align: center;
            transition: all var(--transition);
            cursor: pointer;
        }

        .action-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-emerald);
            box-shadow: var(--shadow);
        }

        .action-icon {
            font-size: 2rem;
            color: var(--accent-emerald);
            margin-bottom: var(--spacing-md);
        }

        .action-title {
            font-size: var(--font-size-md);
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .action-desc {
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        .recent-activity {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            background: var(--bg-secondary);
            transition: background-color var(--transition-fast);
        }

        .activity-item:hover {
            background: var(--bg-primary);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: var(--font-size-md);
        }

        .activity-details {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .activity-time {
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        .activity-amount {
            font-weight: 700;
            color: var(--accent-gold);
        }

        /* ==================== MODAL STYLES ==================== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-overlay);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: var(--z-modal);
            padding: var(--spacing-md);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition);
            backdrop-filter: blur(8px);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--bg-modal);
            border-radius: var(--border-radius-lg);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: transform var(--transition);
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-xl);
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--border-light);
        }

        .modal-title {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--accent-gold);
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: var(--font-size-xl);
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color var(--transition-fast);
        }

        .modal-close:hover {
            background-color: var(--bg-secondary);
        }

        .modal-body {
            padding: var(--spacing-lg);
        }

        .modal-footer {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--border-light);
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-md);
        }

        /* ==================== FORM STYLES ==================== */
        .form-group {
            margin-bottom: var(--spacing-lg);
        }

        .form-label {
            display: block;
            margin-bottom: var(--spacing-sm);
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-control {
            width: 100%;
            padding: var(--spacing-md);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            color: var(--text-primary);
            font-family: var(--font-primary);
            font-size: var(--font-size-base);
            transition: all var(--transition-fast);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent-emerald);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .form-control::placeholder {
            color: var(--text-muted);
        }

        .form-text {
            display: block;
            margin-top: var(--spacing-xs);
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        .form-check {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
        }

        .form-check-input {
            width: 18px;
            height: 18px;
            accent-color: var(--accent-emerald);
        }

        .form-check-label {
            color: var(--text-secondary);
        }

        .input-group {
            display: flex;
            gap: var(--spacing-sm);
        }

        .input-group .form-control {
            flex: 1;
        }

        .input-group-text {
            display: flex;
            align-items: center;
            padding: var(--spacing-md);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            color: var(--text-muted);
        }

        .password-input {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: var(--spacing-md);
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: var(--font-size-md);
        }

        .file-upload {
            border: 2px dashed var(--border-color);
            border-radius: var(--border-radius);
            padding: var(--spacing-xl);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .file-upload:hover {
            border-color: var(--accent-emerald);
            background: var(--bg-secondary);
        }

        .file-upload i {
            font-size: 3rem;
            color: var(--accent-emerald);
            margin-bottom: var(--spacing-md);
        }

        .file-preview {
            max-width: 100%;
            max-height: 200px;
            margin-top: var(--spacing-md);
            border-radius: var(--border-radius);
            display: none;
        }

        .file-preview.active {
            display: block;
        }

        /* ==================== TABLE STYLES ==================== */
        .table-responsive {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-lg);
        }

        .table th,
        .table td {
            padding: var(--spacing-md);
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }

        .table th {
            font-weight: 600;
            color: var(--text-muted);
            background: var(--bg-secondary);
            position: sticky;
            top: 0;
        }

        .table tbody tr {
            transition: background-color var(--transition-fast);
        }

        .table tbody tr:hover {
            background-color: var(--bg-secondary);
        }

        .table tbody tr:last-child td {
            border-bottom: none;
        }

        /* ==================== BADGE STYLES ==================== */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: 20px;
            font-size: var(--font-size-xs);
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-success {
            background: var(--success-light);
            color: var(--success);
        }

        .badge-warning {
            background: var(--warning-light);
            color: var(--warning);
        }

        .badge-error {
            background: var(--error-light);
            color: var(--error);
        }

        .badge-info {
            background: var(--info-light);
            color: var(--info);
        }

        .badge-primary {
            background: rgba(245, 158, 11, 0.1);
            color: var(--accent-gold);
        }

        /* ==================== PROFILE STYLES ==================== */
        .profile {
            padding-top: 80px;
            min-height: 100vh;
        }

        .profile-header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-light);
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: var(--font-size-2xl);
            margin: 0 auto var(--spacing-lg);
            border: 4px solid var(--accent-emerald);
        }

        .profile-info {
            text-align: center;
        }

        .profile-name {
            font-size: var(--font-size-xl);
            font-weight: 700;
            margin-bottom: var(--spacing-xs);
        }

        .profile-email {
            color: var(--text-muted);
            margin-bottom: var(--spacing-md);
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--spacing-md);
            margin-top: var(--spacing-lg);
        }

        .profile-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-xl);
        }

        @media (min-width: 992px) {
            .profile-content {
                grid-template-columns: 250px 1fr;
            }
        }

        .profile-sidebar {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            border: 1px solid var(--border-light);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .profile-nav {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xs);
        }

        .profile-nav-link {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md);
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: all var(--transition-fast);
        }

        .profile-nav-link:hover,
        .profile-nav-link.active {
            color: var(--accent-gold);
            background: var(--bg-secondary);
        }

        .profile-nav-icon {
            font-size: var(--font-size-md);
            width: 20px;
        }

        .profile-section {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
            margin-bottom: var(--spacing-xl);
        }

        .profile-section-title {
            font-size: var(--font-size-lg);
            font-weight: 700;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--border-light);
        }

        /* ==================== KYC STYLES ==================== */
        .kyc-status {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
            margin-bottom: var(--spacing-xl);
        }

        .kyc-status-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
        }

        .kyc-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin: var(--spacing-xl) 0;
        }

        .kyc-steps::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--border-light);
            transform: translateY(-50%);
            z-index: 1;
        }

        .kyc-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .kyc-step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-secondary);
            border: 2px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--text-muted);
            margin-bottom: var(--spacing-sm);
            transition: all var(--transition);
        }

        .kyc-step.active .kyc-step-number {
            background: var(--accent-emerald);
            border-color: var(--accent-emerald);
            color: white;
        }

        .kyc-step.completed .kyc-step-number {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        .kyc-step-label {
            font-size: var(--font-size-sm);
            color: var(--text-muted);
        }

        .kyc-step.active .kyc-step-label {
            color: var(--accent-emerald);
            font-weight: 600;
        }

        /* ==================== REFERRAL STYLES ==================== */
        .referral {
            padding-top: 80px;
            min-height: 100vh;
        }

        .referral-header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-light);
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            text-align: center;
        }

        .referral-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .referral-stat-card {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            text-align: center;
            border: 1px solid var(--border-light);
        }

        .referral-stat-value {
            font-size: var(--font-size-2xl);
            font-weight: 800;
            color: var(--accent-gold);
            margin-bottom: var(--spacing-sm);
        }

        .referral-stat-label {
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        .referral-link-card {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
            margin-bottom: var(--spacing-xl);
        }

        .referral-link-input {
            display: flex;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
        }

        .referral-link-input .form-control {
            flex: 1;
        }

        .referral-actions {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }

        .referral-friends {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
        }

        .friend-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--border-light);
        }

        .friend-item:last-child {
            border-bottom: none;
        }

        .friend-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }

        .friend-info {
            flex: 1;
        }

        .friend-name {
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .friend-date {
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        .friend-earnings {
            font-weight: 700;
            color: var(--accent-gold);
        }

        /* ==================== SUPPORT STYLES ==================== */
        .support {
            padding-top: 80px;
            min-height: 100vh;
        }

        .support-header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-light);
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            text-align: center;
        }

        .support-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .support-category {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            text-align: center;
            border: 1px solid var(--border-light);
            cursor: pointer;
            transition: all var(--transition);
        }

        .support-category:hover,
        .support-category.active {
            border-color: var(--accent-emerald);
            transform: translateY(-4px);
            box-shadow: var(--shadow);
        }

        .support-category-icon {
            font-size: 2.5rem;
            color: var(--accent-emerald);
            margin-bottom: var(--spacing-md);
        }

        .support-category-title {
            font-size: var(--font-size-lg);
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
        }

        .support-category-desc {
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        .faq-section {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
            margin-bottom: var(--spacing-xl);
        }

        .faq-item {
            border-bottom: 1px solid var(--border-light);
            padding-bottom: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }

        .faq-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            font-weight: 600;
            font-size: var(--font-size-md);
            color: var(--text-primary);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--transition);
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            line-height: 1.6;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            margin-top: var(--spacing-md);
        }

        .faq-toggle {
            color: var(--accent-emerald);
            font-size: var(--font-size-md);
            transition: transform var(--transition);
        }

        .faq-item.active .faq-toggle {
            transform: rotate(180deg);
        }

        /* ==================== ADMIN STYLES ==================== */
        .admin {
            padding-top: 80px;
            min-height: 100vh;
        }

        .admin-header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-light);
            padding: var(--spacing-lg) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .admin-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .admin-stat-card {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
            text-align: center;
            transition: transform var(--transition);
        }

        .admin-stat-card:hover {
            transform: translateY(-4px);
        }

        .admin-stat-icon {
            font-size: 2rem;
            color: var(--accent-emerald);
            margin-bottom: var(--spacing-md);
        }

        .admin-stat-value {
            font-size: var(--font-size-2xl);
            font-weight: 800;
            color: var(--accent-gold);
            margin-bottom: var(--spacing-sm);
        }

        .admin-stat-label {
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        .admin-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-xl);
        }

        @media (min-width: 992px) {
            .admin-content {
                grid-template-columns: 250px 1fr;
            }
        }

        .admin-sidebar {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            border: 1px solid var(--border-light);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .admin-nav {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xs);
        }

        .admin-nav-link {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md);
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: all var(--transition-fast);
        }

        .admin-nav-link:hover,
        .admin-nav-link.active {
            color: var(--accent-gold);
            background: var(--bg-secondary);
        }

        .admin-nav-icon {
            font-size: var(--font-size-md);
            width: 20px;
        }

        .admin-section {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            border: 1px solid var(--border-light);
            margin-bottom: var(--spacing-xl);
        }

        .admin-section-title {
            font-size: var(--font-size-lg);
            font-weight: 700;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--border-light);
        }

        .admin-filters {
            display: flex;
            gap: var(--spacing-md);
            flex-wrap: wrap;
            margin-bottom: var(--spacing-lg);
        }

        .admin-filters .form-control,
        .admin-filters .btn {
            min-width: 150px;
        }

        /* ==================== FOOTER STYLES ==================== */
        .footer {
            background: var(--bg-card);
            border-top: 1px solid var(--border-light);
            padding: var(--spacing-xl) 0;
            margin-top: auto;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-xl);
        }

        @media (min-width: 768px) {
            .footer-content {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .footer-brand {
            margin-bottom: var(--spacing-lg);
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-size: var(--font-size-lg);
            font-weight: 800;
            color: var(--accent-gold);
            text-decoration: none;
            margin-bottom: var(--spacing-md);
        }

        .footer-description {
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        .footer-title {
            font-size: var(--font-size-md);
            font-weight: 700;
            margin-bottom: var(--spacing-lg);
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
            list-style: none;
        }

        .footer-link {
            color: var(--text-muted);
            text-decoration: none;
            font-size: var(--font-size-sm);
            transition: color var(--transition-fast);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .footer-link:hover {
            color: var(--accent-gold);
        }

        .footer-social {
            display: flex;
            gap: var(--spacing-md);
            margin-top: var(--spacing-lg);
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            text-decoration: none;
            transition: all var(--transition-fast);
        }

        .social-link:hover {
            background: var(--accent-gold);
            color: white;
            transform: translateY(-2px);
        }

        .footer-bottom {
            margin-top: var(--spacing-xl);
            padding-top: var(--spacing-lg);
            border-top: 1px solid var(--border-light);
            text-align: center;
            color: var(--text-muted);
            font-size: var(--font-size-sm);
        }

        /* ==================== RESPONSIVE BREAKPOINTS ==================== */
        @media (max-width: 575.98px) {
            :root {
                --font-size-4xl: 2.5rem;
                --font-size-3xl: 2rem;
                --font-size-2xl: 1.5rem;
                --font-size-xl: 1.25rem;
                --font-size-lg: 1.125rem;
                --spacing-xl: 1.5rem;
                --spacing-lg: 1rem;
            }

            .hero-actions {
                flex-direction: column;
            }

            .hero-actions .btn {
                width: 100%;
            }

            .plans-grid {
                grid-template-columns: 1fr;
            }

            .stats-overview {
                grid-template-columns: 1fr;
            }

            .quick-actions {
                grid-template-columns: 1fr;
            }

            .admin-filters {
                flex-direction: column;
            }

            .admin-filters .form-control,
            .admin-filters .btn {
                width: 100%;
            }
        }

        @media (min-width: 576px) and (max-width: 767.98px) {
            .plans-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .stats-overview {
                grid-template-columns: repeat(2, 1fr);
            }

            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 768px) and (max-width: 991.98px) {
            .plans-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .stats-overview {
                grid-template-columns: repeat(3, 1fr);
            }

            .quick-actions {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 992px) and (max-width: 1199.98px) {
            .plans-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1200px) {
            .plans-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        /* ==================== ANIMATIONS ==================== */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease;
        }

        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease;
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        .animate-slide-in-left {
            animation: slideInLeft 0.5s ease;
        }

        /* ==================== CUSTOM SCROLLBAR ==================== */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-gold);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-gold-dark);
        }

        /* ==================== PRINT STYLES ==================== */
        @media print {
            .navbar,
            .footer,
            .btn,
            .modal,
            .toast-container {
                display: none !important;
            }

            body {
                background: white;
                color: black;
            }

            .container {
                max-width: 100%;
                padding: 0;
            }

            .section {
                padding: 1rem 0;
            }
        }

        /* ==================== ACCESSIBILITY ==================== */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .focus-visible {
            outline: 2px solid var(--accent-emerald);
            outline-offset: 2px;
        }

        /* ==================== DARK/LIGHT THEME TRANSITIONS ==================== */
        * {
            transition: background-color var(--transition), border-color var(--transition), color var(--transition);
        }
    </style>
</head>
<body>
    <!-- Loading Spinner -->
    <div id="loading-spinner" class="loading-spinner d-none">
        <div class="spinner"></div>
        <div class="loading-text">Loading...</div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Navbar -->
    <nav class="navbar" id="navbar">
        <div class="container navbar-container">
            <a href="#" class="navbar-brand" onclick="app.showPage('home'); return false;">
                <i class="fas fa-gem navbar-logo"></i>
                <span>Raw Wealthy</span>
            </a>

            <button class="navbar-toggler" id="navbar-toggler" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>

            <div class="navbar-menu" id="navbar-menu">
                <ul class="navbar-nav" id="navbar-nav">
                    <!-- Navigation items will be dynamically added -->
                </ul>
                <div class="navbar-actions">
                    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                        <i class="fas fa-moon"></i>
                    </button>
                    <div id="auth-buttons">
                        <!-- Auth buttons will be dynamically added -->
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main id="main-content">
        <!-- Pages will be dynamically loaded here -->
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <a href="#" class="footer-logo" onclick="app.showPage('home'); return false;">
                        <i class="fas fa-gem"></i>
                        <span>Raw Wealthy</span>
                    </a>
                    <p class="footer-description">
                        Your trusted partner for secure and high-yield raw materials investment opportunities.
                    </p>
                    <div class="footer-social">
                        <a href="#" class="social-link" aria-label="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="LinkedIn">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h3 class="footer-title">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link" onclick="app.showPage('home'); return false;">
                            <i class="fas fa-chevron-right"></i> Home
                        </a></li>
                        <li><a href="#" class="footer-link" onclick="app.showPage('investment-plans'); return false;">
                            <i class="fas fa-chevron-right"></i> Investment Plans
                        </a></li>
                        <li><a href="#" class="footer-link" onclick="app.showPage('dashboard'); return false;">
                            <i class="fas fa-chevron-right"></i> Dashboard
                        </a></li>
                        <li><a href="#" class="footer-link" onclick="app.showPage('support'); return false;">
                            <i class="fas fa-chevron-right"></i> Support
                        </a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="footer-title">Legal</h3>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link" onclick="app.openModal('terms-modal'); return false;">
                            <i class="fas fa-chevron-right"></i> Terms of Service
                        </a></li>
                        <li><a href="#" class="footer-link" onclick="app.openModal('privacy-modal'); return false;">
                            <i class="fas fa-chevron-right"></i> Privacy Policy
                        </a></li>
                        <li><a href="#" class="footer-link" onclick="app.openModal('cookie-modal'); return false;">
                            <i class="fas fa-chevron-right"></i> Cookie Policy
                        </a></li>
                        <li><a href="#" class="footer-link" onclick="app.openModal('disclaimer-modal'); return false;">
                            <i class="fas fa-chevron-right"></i> Disclaimer
                        </a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="footer-title">Contact Us</h3>
                    <ul class="footer-links">
                        <li><a href="mailto:support@rawwealthy.com" class="footer-link">
                            <i class="fas fa-envelope"></i> support@rawwealthy.com
                        </a></li>
                        <li><a href="tel:+2348123456789" class="footer-link">
                            <i class="fas fa-phone"></i> +234 (0) 812 345 6789
                        </a></li>
                        <li class="footer-link">
                            <i class="fas fa-map-marker-alt"></i> 123 Investment St, Lagos, Nigeria
                        </li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2024 Raw Wealthy Investment Platform. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="btn btn-primary btn-icon" aria-label="Back to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- ==================== MODALS ==================== -->
    
    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Login to Your Account</h2>
                <button class="modal-close" onclick="app.closeModal('login-modal')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email" class="form-label">Email Address</label>
                        <input type="email" id="login-email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password" class="form-label">Password</label>
                        <div class="password-input">
                            <input type="password" id="login-password" class="form-control" placeholder="Enter your password" required>
                            <button type="button" class="password-toggle" onclick="app.togglePassword('login-password')" aria-label="Toggle password visibility">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <a href="#" class="text-sm" onclick="app.openModal('forgot-password-modal'); app.closeModal('login-modal'); return false;">
                            Forgot Password?
                        </a>
                    </div>
                    <div class="form-group" id="two-factor-section" style="display: none;">
                        <label for="two-factor-code" class="form-label">Two-Factor Authentication Code</label>
                        <input type="text" id="two-factor-code" class="form-control" placeholder="Enter 6-digit code" maxlength="6">
                    </div>
                    <button type="submit" class="btn btn-primary btn-full" id="login-btn">
                        <span>Login</span>
                        <i class="fas fa-spinner fa-spin d-none" id="login-spinner"></i>
                    </button>
                </form>
                <div class="text-center mt-md">
                    <p class="text-muted">Don't have an account? <a href="#" onclick="app.openModal('register-modal'); app.closeModal('login-modal'); return false;">Register here</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Registration Modal -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Create Account</h2>
                <button class="modal-close" onclick="app.closeModal('register-modal')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="register-form">
                    <div class="form-group">
                        <label for="register-fullname" class="form-label">Full Name</label>
                        <input type="text" id="register-fullname" class="form-control" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="register-email" class="form-label">Email Address</label>
                        <input type="email" id="register-email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="register-phone" class="form-label">Phone Number</label>
                        <input type="tel" id="register-phone" class="form-control" placeholder="Enter your phone number" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password" class="form-label">Password</label>
                        <div class="password-input">
                            <input type="password" id="register-password" class="form-control" placeholder="Create a password" required>
                            <button type="button" class="password-toggle" onclick="app.togglePassword('register-password')" aria-label="Toggle password visibility">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="password-strength mt-xs" id="password-strength"></div>
                    </div>
                    <div class="form-group">
                        <label for="register-confirm-password" class="form-label">Confirm Password</label>
                        <div class="password-input">
                            <input type="password" id="register-confirm-password" class="form-control" placeholder="Confirm your password" required>
                            <button type="button" class="password-toggle" onclick="app.togglePassword('register-confirm-password')" aria-label="Toggle password visibility">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="register-referral" class="form-label">Referral Code (Optional)</label>
                        <input type="text" id="register-referral" class="form-control" placeholder="Enter referral code if any">
                    </div>
                    <div class="form-group">
                        <label for="register-risk-tolerance" class="form-label">Risk Tolerance</label>
                        <select id="register-risk-tolerance" class="form-control" required>
                            <option value="">Select risk tolerance</option>
                            <option value="low">Low (Conservative)</option>
                            <option value="medium" selected>Medium (Balanced)</option>
                            <option value="high">High (Aggressive)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="register-investment-strategy" class="form-label">Investment Strategy</label>
                        <select id="register-investment-strategy" class="form-control" required>
                            <option value="">Select investment strategy</option>
                            <option value="conservative">Conservative</option>
                            <option value="balanced" selected>Balanced</option>
                            <option value="aggressive">Aggressive</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full" id="register-btn">
                        <span>Create Account</span>
                        <i class="fas fa-spinner fa-spin d-none" id="register-spinner"></i>
                    </button>
                </form>
                <div class="text-center mt-md">
                    <p class="text-muted">Already have an account? <a href="#" onclick="app.openModal('login-modal'); app.closeModal('register-modal'); return false;">Login here</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Modal -->
    <div id="invest-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Make Investment</h2>
                <button class="modal-close" onclick="app.closeModal('invest-modal')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="invest-form">
                    <div class="form-group">
                        <label for="investment-plan" class="form-label">Select Investment Plan</label>
                        <select id="investment-plan" class="form-control" required>
                            <option value="">Choose a plan</option>
                            <!-- Options will be dynamically added -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="investment-amount" class="form-label">Investment Amount (â‚¦)</label>
                        <input type="number" id="investment-amount" class="form-control" placeholder="Enter amount" min="3500" required>
                        <div class="form-text">Minimum investment: â‚¦3,500</div>
                    </div>
                    <div class="form-group">
                        <div class="form-check">
                            <input type="checkbox" id="auto-renew" class="form-check-input">
                            <label for="auto-renew" class="form-check-label">Auto-renew investment when completed</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Upload Payment Proof (Required)</label>
                        <div class="file-upload" onclick="document.getElementById('investment-proof').click()">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Click to upload payment screenshot</p>
                            <input type="file" id="investment-proof" accept="image/*" style="display: none;" required>
                        </div>
                        <img id="investment-preview" class="file-preview" alt="Payment proof preview">
                    </div>
                    <button type="submit" class="btn btn-primary btn-full" id="invest-btn">
                        <span>Submit Investment</span>
                        <i class="fas fa-spinner fa-spin d-none" id="invest-spinner"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Deposit Modal -->
    <div id="deposit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Deposit Funds</h2>
                <button class="modal-close" onclick="app.closeModal('deposit-modal')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="deposit-form">
                    <div class="form-group">
                        <label for="deposit-amount" class="form-label">Amount (â‚¦)</label>
                        <input type="number" id="deposit-amount" class="form-control" placeholder="Enter amount" min="500" required>
                        <div class="form-text">Minimum deposit: â‚¦500</div>
                    </div>
                    <div class="form-group">
                        <label for="deposit-method" class="form-label">Payment Method</label>
                        <select id="deposit-method" class="form-control" required>
                            <option value="">Select payment method</option>
                            <option value="bank_transfer">Bank Transfer</option>
                            <option value="crypto">Cryptocurrency</option>
                            <option value="paypal">PayPal</option>
                            <option value="card">Credit/Debit Card</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Upload Payment Proof (Required)</label>
                        <div class="file-upload" onclick="document.getElementById('deposit-proof').click()">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Click to upload payment screenshot</p>
                            <input type="file" id="deposit-proof" accept="image/*" style="display: none;" required>
                        </div>
                        <img id="deposit-preview" class="file-preview" alt="Payment proof preview">
                    </div>
                    <button type="submit" class="btn btn-primary btn-full" id="deposit-btn">
                        <span>Submit Deposit</span>
                        <i class="fas fa-spinner fa-spin d-none" id="deposit-spinner"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div id="withdraw-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Withdraw Funds</h2>
                <button class="modal-close" onclick="app.closeModal('withdraw-modal')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="withdraw-form">
                    <div class="alert alert-warning mb-lg">
                        <i class="fas fa-info-circle"></i>
                        <span>5% platform fee will be deducted from your withdrawal amount</span>
                    </div>
                    <div class="form-group">
                        <label for="withdraw-amount" class="form-label">Amount (â‚¦)</label>
                        <input type="number" id="withdraw-amount" class="form-control" placeholder="Enter amount" min="1000" required>
                        <div class="form-text">Available balance: <span id="available-balance">â‚¦0.00</span></div>
                        <div class="form-text text-warning" id="withdrawal-fee">Platform fee: â‚¦0.00</div>
                        <div class="form-text text-success" id="net-amount">Net amount: â‚¦0.00</div>
                    </div>
                    <div class="form-group">
                        <label for="withdraw-method" class="form-label">Withdrawal Method</label>
                        <select id="withdraw-method" class="form-control" required>
                            <option value="">Select withdrawal method</option>
                            <option value="bank_transfer">Bank Transfer</option>
                            <option value="crypto">Cryptocurrency</option>
                            <option value="paypal">PayPal</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full" id="withdraw-btn">
                        <span>Request Withdrawal</span>
                        <i class="fas fa-spinner fa-spin d-none" id="withdraw-spinner"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgot-password-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Reset Password</h2>
                <button class="modal-close" onclick="app.closeModal('forgot-password-modal')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="forgot-password-form">
                    <div class="form-group">
                        <label for="forgot-email" class="form-label">Email Address</label>
                        <input type="email" id="forgot-email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full" id="forgot-btn">
                        <span>Send Reset Link</span>
                        <i class="fas fa-spinner fa-spin d-none" id="forgot-spinner"></i>
                    </button>
                </form>
                <div class="text-center mt-md">
                    <p class="text-muted">Remember your password? <a href="#" onclick="app.openModal('login-modal'); app.closeModal('forgot-password-modal'); return false;">Login here</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Two-Factor Modal -->
    <div id="two-factor-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Two-Factor Authentication</h2>
                <button class="modal-close" onclick="app.closeModal('two-factor-modal')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center mb-lg">
                    <i class="fas fa-shield-alt fa-3x text-success mb-md"></i>
                    <h3 class="mb-sm">Enter Authentication Code</h3>
                    <p class="text-muted">Enter the 6-digit code from your authenticator app</p>
                </div>
                <form id="two-factor-form">
                    <div class="form-group">
                        <input type="text" id="two-factor-code-input" class="form-control text-center" placeholder="000000" maxlength="6" required style="font-size: 2rem; letter-spacing: 10px;">
                    </div>
                    <button type="submit" class="btn btn-primary btn-full" id="two-factor-btn">
                        <span>Verify</span>
                        <i class="fas fa-spinner fa-spin d-none" id="two-factor-spinner"></i>
                    </button>
                </form>
                <div class="text-center mt-md">
                    <a href="#" class="text-sm" onclick="app.resendTwoFactorCode()">Resend Code</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Legal Modals -->
    <div id="terms-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Terms of Service</h2>
                <button class="modal-close" onclick="app.closeModal('terms-modal')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Terms content will be dynamically added -->
            </div>
        </div>
    </div>

    <div id="privacy-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Privacy Policy</h2>
                <button class="modal-close" onclick="app.closeModal('privacy-modal')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Privacy content will be dynamically added -->
            </div>
        </div>
    </div>

    <!-- Alert Component -->
    <div id="alert-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999;"></div>

    <!-- Confirmation Dialog -->
    <div id="confirmation-dialog" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h2 class="modal-title" id="confirmation-title">Confirm Action</h2>
                <button class="modal-close" onclick="app.closeModal('confirmation-dialog')" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p id="confirmation-message">Are you sure you want to perform this action?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="app.closeModal('confirmation-dialog')">Cancel</button>
                <button class="btn btn-primary" id="confirmation-confirm">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Notification Bell -->
    <div id="notification-bell" class="d-none" style="position: fixed; bottom: 20px; right: 20px; z-index: 999;">
        <button class="btn btn-primary btn-icon" onclick="app.showPage('notifications')" aria-label="Notifications">
            <i class="fas fa-bell"></i>
            <span id="notification-count" class="badge badge-error" style="position: absolute; top: -5px; right: -5px;">0</span>
        </button>
    </div>

    <!-- Progress Bar for File Uploads -->
    <div id="upload-progress" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h2 class="modal-title">Uploading File</h2>
                <button class="modal-close" onclick="app.cancelUpload()" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="progress-bar-container">
                    <div class="progress-bar" style="height: 6px; background: var(--bg-secondary); border-radius: 3px; overflow: hidden;">
                        <div id="upload-progress-bar" style="height: 100%; background: var(--gradient-primary); width: 0%; transition: width 0.3s ease;"></div>
                    </div>
                    <div class="d-flex justify-between mt-sm">
                        <span id="upload-file-name">file.jpg</span>
                        <span id="upload-percentage">0%</span>
                    </div>
                </div>
                <div class="text-center mt-md">
                    <button class="btn btn-outline btn-sm" onclick="app.cancelUpload()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Offline Indicator -->
    <div id="offline-indicator" class="d-none" style="position: fixed; top: 0; left: 0; right: 0; background: var(--error); color: white; padding: 10px; text-align: center; z-index: 10000;">
        <i class="fas fa-wifi-slash"></i> You are currently offline. Some features may be limited.
    </div>

    <!-- Session Timeout Warning -->
    <div id="session-timeout-modal" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h2 class="modal-title">Session Timeout</h2>
            </div>
            <div class="modal-body">
                <div class="text-center mb-lg">
                    <i class="fas fa-clock fa-3x text-warning mb-md"></i>
                    <h3 class="mb-sm">Your session is about to expire</h3>
                    <p class="text-muted" id="session-timeout-timer">Your session will expire in <span id="session-timeout-seconds">60</span> seconds.</p>
                </div>
                <div class="text-center">
                    <button class="btn btn-primary" onclick="app.extendSession()">Stay Logged In</button>
                    <button class="btn btn-outline ml-md" onclick="app.logout()">Logout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // ==================== RAW WEALTHY FRONTEND v48.0 ====================
        // MOBILE-FIRST MODERN DESIGN WITH COMPLETE BACKEND INTEGRATION
        // =====================================================================

        class RawWealthyApp {
            constructor() {
                this.config = {
                    API_BASE_URL: this.detectBackendURL(),
                    VERSION: '48.0.0',
                    ENVIRONMENT: this.detectEnvironment(),
                    MIN_INVESTMENT: 3500,
                    MIN_DEPOSIT: 500,
                    MIN_WITHDRAWAL: 1000,
                    PLATFORM_FEE_PERCENT: 5,
                    REFERRAL_COMMISSION_PERCENT: 15,
                    WHATSAPP_ADMIN_NUMBER: '2349161806424',
                    WHATSAPP_ENABLED: true,
                    DEPOSIT_BANK_DETAILS: {
                        bank_name: 'OPay',
                        account_number: '9287277337',
                        account_name: 'Raw Wealthy'
                    },
                    SESSION_TIMEOUT: 30 * 60 * 1000, // 30 minutes
                    AUTO_REFRESH_INTERVAL: 30000, // 30 seconds
                    TOAST_DURATION: 5000,
                    MAX_FILE_SIZE: 10 * 1024 * 1024 // 10MB
                };

                this.state = {
                    currentUser: null,
                    token: localStorage.getItem('raw_wealthy_token'),
                    investmentPlans: [],
                    notifications: [],
                    unreadNotifications: 0,
                    isAdmin: false,
                    isAuthenticated: false,
                    currentPage: 'home',
                    userStats: {
                        balance: 0,
                        activeInvestments: 0,
                        dailyEarnings: 0,
                        totalEarnings: 0,
                        referralEarnings: 0,
                        pendingReferrals: 0
                    },
                    adminData: {
                        users: [],
                        investments: [],
                        deposits: [],
                        withdrawals: [],
                        kycSubmissions: []
                    },
                    charts: {},
                    sessionTimer: null,
                    autoRefreshInterval: null,
                    fileUploads: new Map(),
                    online: navigator.onLine
                };

                // Initialize
                this.init();
            }

            // ==================== INITIALIZATION ====================
            async init() {
                console.log('ðŸš€ Raw Wealthy Frontend v48.0 Initializing...');
                console.log(`ðŸŒ Backend URL: ${this.config.API_BASE_URL}`);
                console.log(`ðŸ·ï¸ Environment: ${this.config.ENVIRONMENT}`);

                this.setupEventListeners();
                this.initTheme();
                this.initServiceWorker();
                this.setupOfflineDetection();
                await this.testAPIConnection();
                this.checkAuthentication();
                this.loadInvestmentPlans();
                this.setupAutoRefresh();
                this.setupSessionTimeout();
                this.setupIntersectionObserver();

                // Initial render
                this.renderNavbar();
                this.showPage('home');

                // Check for referral code in URL
                this.checkReferralFromURL();

                // Show welcome message
                setTimeout(() => {
                    this.showToast('Welcome to Raw Wealthy! ðŸŽ‰', 'info');
                }, 1000);
            }

            // ==================== UTILITY METHODS ====================
            detectBackendURL() {
                const hostname = window.location.hostname;
                
                if (hostname === 'localhost' || hostname === '127.0.0.1') {
                    return 'http://localhost:10000';
                }
                
                if (hostname.includes('vercel.app')) {
                    return 'https://real-wealthy-1.onrender.com';
                }
                
                if (hostname.includes('github.io') || hostname.includes('netlify.app')) {
                    return 'https://raw-wealthy-backend.herokuapp.com';
                }
                
                // Default to current origin for production
                return window.location.origin;
            }

            detectEnvironment() {
                return window.location.hostname === 'localhost' ? 'development' : 'production';
            }

            debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }

            throttle(func, limit) {
                let inThrottle;
                return function() {
                    const args = arguments;
                    const context = this;
                    if (!inThrottle) {
                        func.apply(context, args);
                        inThrottle = true;
                        setTimeout(() => inThrottle = false, limit);
                    }
                };
            }

            formatCurrency(amount, currency = 'NGN') {
                return new Intl.NumberFormat('en-NG', {
                    style: 'currency',
                    currency: currency,
                    minimumFractionDigits: 2
                }).format(amount);
            }

            formatDate(date) {
                return new Date(date).toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }

            formatRelativeTime(date) {
                const now = new Date();
                const diff = now - new Date(date);
                
                const minute = 60 * 1000;
                const hour = minute * 60;
                const day = hour * 24;
                const week = day * 7;
                const month = day * 30;
                const year = day * 365;

                if (diff < minute) return 'Just now';
                if (diff < hour) return `${Math.floor(diff / minute)}m ago`;
                if (diff < day) return `${Math.floor(diff / hour)}h ago`;
                if (diff < week) return `${Math.floor(diff / day)}d ago`;
                if (diff < month) return `${Math.floor(diff / week)}w ago`;
                if (diff < year) return `${Math.floor(diff / month)}mo ago`;
                return `${Math.floor(diff / year)}y ago`;
            }

            generateAvatarInitials(name) {
                return name
                    .split(' ')
                    .map(n => n[0])
                    .join('')
                    .toUpperCase()
                    .substring(0, 2);
            }

            // ==================== API COMMUNICATION ====================
            async apiRequest(endpoint, options = {}) {
                const url = `${this.config.API_BASE_URL}${endpoint}`;
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 30000);

                const headers = {
                    'Accept': 'application/json',
                    ...options.headers
                };

                if (this.state.token && !options.noAuth) {
                    headers['Authorization'] = `Bearer ${this.state.token}`;
                }

                const config = {
                    method: options.method || 'GET',
                    headers: headers,
                    signal: controller.signal,
                    credentials: 'include',
                    ...options
                };

                // Handle FormData separately
                if (options.body instanceof FormData) {
                    delete config.headers['Content-Type'];
                    config.body = options.body;
                } else if (options.body && typeof options.body === 'object') {
                    headers['Content-Type'] = 'application/json';
                    config.body = JSON.stringify(options.body);
                }

                try {
                    this.showLoading(true);
                    const response = await fetch(url, config);
                    clearTimeout(timeoutId);

                    // Handle different status codes
                    switch (response.status) {
                        case 401:
                            this.handleTokenExpired();
                            throw new Error('Authentication required');
                        case 403:
                            throw new Error('Access denied');
                        case 404:
                            throw new Error('Resource not found');
                        case 429:
                            throw new Error('Too many requests. Please try again later.');
                        case 500:
                            throw new Error('Server error. Please try again later.');
                    }

                    const data = await response.json().catch(() => ({}));

                    if (!response.ok) {
                        const errorMessage = data.message || data.error || `HTTP ${response.status}`;
                        throw new Error(errorMessage);
                    }

                    if (data.success === false) {
                        throw new Error(data.message || 'Request failed');
                    }

                    return data;
                } catch (error) {
                    clearTimeout(timeoutId);
                    
                    if (error.name === 'AbortError') {
                        throw new Error('Request timeout. Please check your connection.');
                    }

                    if (error.message.includes('NetworkError') || error.message.includes('Failed to fetch')) {
                        this.showToast('Network error. Please check your connection.', 'error');
                        throw new Error('Network error');
                    }

                    console.error(`API Request Error [${endpoint}]:`, error);
                    throw error;
                } finally {
                    this.showLoading(false);
                }
            }

            async testAPIConnection() {
                try {
                    const response = await fetch(`${this.config.API_BASE_URL}/health`, { timeout: 5000 });
                    if (response.ok) {
                        console.log('âœ… API Connection: SUCCESS');
                        this.showToast('Connected to backend successfully!', 'success');
                    } else {
                        console.warn('âš ï¸ API Connection: WEAK');
                    }
                } catch (error) {
                    console.error('âŒ API Connection: FAILED');
                    this.showToast('Backend connection issue. Some features may be limited.', 'warning');
                }
            }

            // ==================== AUTHENTICATION ====================
            async checkAuthentication() {
                if (this.state.token) {
                    try {
                        const response = await this.apiRequest('/api/profile');
                        this.state.currentUser = response.data.user;
                        this.state.isAdmin = this.state.currentUser.role === 'admin' || this.state.currentUser.role === 'super_admin';
                        this.state.isAuthenticated = true;

                        // Update UI
                        this.renderNavbar();
                        this.updateUserStats();
                        this.loadNotifications();

                        // Redirect based on role
                        if (this.state.isAdmin && this.state.currentPage !== 'admin') {
                            this.showPage('admin');
                        } else if (!this.state.isAdmin && this.state.currentPage === 'home') {
                            this.showPage('dashboard');
                        }
                    } catch (error) {
                        this.logout();
                    }
                }
            }

            handleTokenExpired() {
                this.showToast('Your session has expired. Please login again.', 'warning');
                this.logout();
                this.showPage('login');
            }

            async login(email, password) {
                try {
                    const response = await this.apiRequest('/api/auth/login', {
                        method: 'POST',
                        body: { email, password }
                    });

                    this.state.token = response.data.token;
                    this.state.currentUser = response.data.user;
                    this.state.isAdmin = this.state.currentUser.role === 'admin' || this.state.currentUser.role === 'super_admin';
                    this.state.isAuthenticated = true;
                    
                    localStorage.setItem('raw_wealthy_token', response.data.token);

                    // Handle two-factor authentication
                    if (this.state.currentUser.two_factor_enabled) {
                        this.showTwoFactorPrompt();
                    } else {
                        this.showToast('Login successful! ðŸŽ‰', 'success');
                        this.closeModal('login-modal');
                        
                        // Update UI
                        this.renderNavbar();
                        this.resetSessionTimer();
                        
                        // Redirect based on role
                        if (this.state.isAdmin) {
                            this.showPage('admin');
                        } else {
                            this.showPage('dashboard');
                        }
                    }

                    return true;
                } catch (error) {
                    throw error;
                }
            }

            async register(userData) {
                try {
                    const response = await this.apiRequest('/api/auth/register', {
                        method: 'POST',
                        body: userData
                    });

                    this.state.token = response.data.token;
                    this.state.currentUser = response.data.user;
                    localStorage.setItem('raw_wealthy_token', response.data.token);

                    this.showToast('Registration successful! Welcome to Raw Wealthy! ðŸŽ‰', 'success');
                    this.closeModal('register-modal');
                    
                    // Update UI
                    this.renderNavbar();
                    this.resetSessionTimer();
                    
                    // Redirect to dashboard
                    this.showPage('dashboard');

                    return true;
                } catch (error) {
                    throw error;
                }
            }

            logout() {
                this.state.currentUser = null;
                this.state.token = null;
                this.state.isAdmin = false;
                this.state.isAuthenticated = false;
                localStorage.removeItem('raw_wealthy_token');
                
                // Clear intervals
                if (this.state.autoRefreshInterval) {
                    clearInterval(this.state.autoRefreshInterval);
                }
                if (this.state.sessionTimer) {
                    clearTimeout(this.state.sessionTimer);
                }

                this.showToast('You have been logged out.', 'info');
                this.renderNavbar();
                this.showPage('home');
            }

            async forgotPassword(email) {
                try {
                    await this.apiRequest('/api/auth/forgot-password', {
                        method: 'POST',
                        body: { email }
                    });

                    this.showToast('Password reset instructions sent to your email!', 'success');
                    this.closeModal('forgot-password-modal');
                    return true;
                } catch (error) {
                    throw error;
                }
            }

            // ==================== PAGE MANAGEMENT ====================
            showPage(page) {
                this.state.currentPage = page;
                
                // Hide all pages
                document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
                
                // Show requested page
                const pageElement = document.getElementById(`${page}-page`);
                if (pageElement) {
                    pageElement.classList.add('active');
                } else {
                    this.renderPage(page);
                }

                // Update navbar active state
                this.updateNavbarActiveState();
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Close mobile menu
                this.closeMobileMenu();

                // Load page-specific data
                this.loadPageData(page);
            }

            renderPage(page) {
                const mainContent = document.getElementById('main-content');
                
                switch (page) {
                    case 'home':
                        mainContent.innerHTML = this.renderHomePage();
                        break;
                    case 'dashboard':
                        mainContent.innerHTML = this.renderDashboardPage();
                        this.initializeDashboard();
                        break;
                    case 'investment-plans':
                        mainContent.innerHTML = this.renderInvestmentPlansPage();
                        this.renderInvestmentPlans();
                        break;
                    case 'profile':
                        mainContent.innerHTML = this.renderProfilePage();
                        this.loadProfileData();
                        break;
                    case 'referral':
                        mainContent.innerHTML = this.renderReferralPage();
                        this.loadReferralData();
                        break;
                    case 'support':
                        mainContent.innerHTML = this.renderSupportPage();
                        break;
                    case 'admin':
                        mainContent.innerHTML = this.renderAdminPage();
                        this.loadAdminData();
                        break;
                    case 'notifications':
                        mainContent.innerHTML = this.renderNotificationsPage();
                        this.loadNotifications();
                        break;
                    default:
                        mainContent.innerHTML = this.renderHomePage();
                }
            }

            loadPageData(page) {
                switch (page) {
                    case 'dashboard':
                        this.updateDashboard();
                        break;
                    case 'investment-plans':
                        this.loadInvestmentPlans();
                        break;
                    case 'profile':
                        this.loadProfileData();
                        break;
                    case 'referral':
                        this.loadReferralData();
                        break;
                    case 'admin':
                        this.loadAdminData();
                        break;
                }
            }

            // ==================== PAGE RENDERING ====================
            renderHomePage() {
                return `
                    <section class="hero" id="home-page">
                        <div class="hero-bg"></div>
                        <div class="container">
                            <div class="hero-content">
                                <h1 class="hero-title">Invest in Raw Materials. <span class="text-gradient">Earn Daily.</span></h1>
                                <p class="hero-subtitle">
                                    Join thousands of investors who are growing their wealth with our secure raw materials 
                                    investment platform. Start with as little as â‚¦3,500 and watch your money grow.
                                </p>
                                <div class="hero-actions">
                                    <button class="btn btn-primary btn-lg" onclick="app.openModal('register-modal')">
                                        <i class="fas fa-rocket"></i> Get Started
                                    </button>
                                    <button class="btn btn-outline btn-lg" onclick="app.showPage('investment-plans')">
                                        <i class="fas fa-chart-line"></i> View Plans
                                    </button>
                                </div>
                                <div class="hero-stats">
                                    <div class="stat-card">
                                        <div class="stat-value" id="total-invested-stat">â‚¦2.5B+</div>
                                        <div class="stat-label">Total Invested</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" id="active-investors-stat">15,240+</div>
                                        <div class="stat-label">Active Investors</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" id="user-rating-stat">4.9/5</div>
                                        <div class="stat-label">User Rating</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" id="daily-payouts-stat">â‚¦50M+</div>
                                        <div class="stat-label">Daily Payouts</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="section" id="about">
                        <div class="container">
                            <div class="text-center mb-xl">
                                <h2 class="mb-md">Why Choose Raw Wealthy?</h2>
                                <p class="text-muted">We provide a secure and transparent platform for investing in raw materials with industry-leading returns.</p>
                            </div>
                            <div class="d-grid gap-lg" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                    <h3 class="feature-title">Secure Investments</h3>
                                    <p class="feature-desc">Bank-level security for all transactions and data protection.</p>
                                </div>
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <h3 class="feature-title">High Returns</h3>
                                    <p class="feature-desc">Industry-leading ROI on all investment plans.</p>
                                </div>
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                    <h3 class="feature-title">24/7 Support</h3>
                                    <p class="feature-desc">Round-the-clock customer service and support.</p>
                                </div>
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-user-check"></i>
                                    </div>
                                    <h3 class="feature-title">Verified Platform</h3>
                                    <p class="feature-desc">Fully licensed and regulated investment platform.</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="section bg-secondary" id="plans-preview">
                        <div class="container">
                            <div class="text-center mb-xl">
                                <h2 class="mb-md">Popular Investment Plans</h2>
                                <p class="text-muted">Choose from our carefully curated raw materials investment plans</p>
                            </div>
                            <div class="plans-grid" id="home-plans-container">
                                <!-- Plans will be dynamically loaded -->
                            </div>
                            <div class="text-center mt-xl">
                                <button class="btn btn-primary btn-lg" onclick="app.showPage('investment-plans')">
                                    View All Plans <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                    </section>

                    <section class="section" id="testimonials">
                        <div class="container">
                            <div class="text-center mb-xl">
                                <h2 class="mb-md">What Our Investors Say</h2>
                                <p class="text-muted">Hear from our satisfied investors who have achieved financial success</p>
                            </div>
                            <div class="testimonials-grid">
                                <div class="testimonial-card">
                                    <div class="testimonial-content">
                                        "I've been investing with Raw Wealthy for over a year now, and the returns have been consistently impressive."
                                    </div>
                                    <div class="testimonial-author">
                                        <div class="author-avatar">MJ</div>
                                        <div class="author-info">
                                            <div class="author-name">Michael Johnson</div>
                                            <div class="author-role">Gold Investor</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="testimonial-card">
                                    <div class="testimonial-content">
                                        "As a beginner in investing, I was hesitant at first. But Raw Wealthy made the process so simple."
                                    </div>
                                    <div class="testimonial-author">
                                        <div class="author-avatar">SW</div>
                                        <div class="author-info">
                                            <div class="author-name">Sarah Williams</div>
                                            <div class="author-role">Silver Investor</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="testimonial-card">
                                    <div class="testimonial-content">
                                        "The transparency and regular updates give me peace of mind. Raw Wealthy stands out with their professionalism."
                                    </div>
                                    <div class="testimonial-author">
                                        <div class="author-avatar">RC</div>
                                        <div class="author-info">
                                            <div class="author-name">Robert Chen</div>
                                            <div class="author-role">Bronze Investor</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                `;
            }

            renderDashboardPage() {
                return `
                    <div class="dashboard">
                        <div class="dashboard-header">
                            <div class="container">
                                <div class="d-flex align-center justify-between flex-wrap gap-md">
                                    <div class="d-flex align-center gap-md">
                                        <div class="user-avatar" id="user-avatar">
                                            ${this.state.currentUser ? this.generateAvatarInitials(this.state.currentUser.full_name) : 'JD'}
                                        </div>
                                        <div>
                                            <h1 class="user-name" id="user-name">${this.state.currentUser?.full_name || 'Loading...'}</h1>
                                            <div class="user-tier">
                                                <i class="fas fa-crown"></i>
                                                <span id="user-tier">${this.state.currentUser?.kyc_verified ? 'Verified Investor' : 'Standard Investor'}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex gap-sm">
                                        <button class="btn btn-outline" onclick="app.showPage('profile')">
                                            <i class="fas fa-user-cog"></i> Profile
                                        </button>
                                        <button class="btn btn-outline" onclick="app.logout()">
                                            <i class="fas fa-sign-out-alt"></i> Logout
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="container">
                            <!-- Stats Overview -->
                            <div class="stats-overview">
                                <div class="stat-item">
                                    <div class="stat-item-title">
                                        <i class="fas fa-wallet"></i>
                                        <span>Total Balance</span>
                                    </div>
                                    <div class="stat-item-value" id="total-balance">â‚¦0.00</div>
                                    <div class="stat-item-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>+2.5% today</span>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-item-title">
                                        <i class="fas fa-chart-line"></i>
                                        <span>Active Investments</span>
                                    </div>
                                    <div class="stat-item-value" id="active-investments">â‚¦0.00</div>
                                    <div class="stat-item-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>3 active plans</span>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-item-title">
                                        <i class="fas fa-money-bill-wave"></i>
                                        <span>Daily Earnings</span>
                                    </div>
                                    <div class="stat-item-value" id="daily-earnings">â‚¦0.00</div>
                                    <div class="stat-item-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>Updated today</span>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-item-title">
                                        <i class="fas fa-gift"></i>
                                        <span>Referral Bonus</span>
                                    </div>
                                    <div class="stat-item-value" id="referral-bonus">â‚¦0.00</div>
                                    <div class="stat-item-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>15% commission</span>
                                    </div>
                                </div>
                            </div>

                            <div class="dashboard-grid">
                                <!-- Main Content -->
                                <div>
                                    <!-- Earnings Chart -->
                                    <div class="chart-container">
                                        <div class="chart-title">
                                            <h3>Earnings Overview</h3>
                                            <div class="chart-actions">
                                                <button class="btn btn-sm btn-outline" onclick="app.changeChartPeriod('7d')">7D</button>
                                                <button class="btn btn-sm btn-outline" onclick="app.changeChartPeriod('30d')">30D</button>
                                                <button class="btn btn-sm btn-outline" onclick="app.changeChartPeriod('90d')">90D</button>
                                            </div>
                                        </div>
                                        <canvas id="earnings-chart" height="300"></canvas>
                                    </div>

                                    <!-- Quick Actions -->
                                    <div class="quick-actions">
                                        <div class="action-card" onclick="app.openModal('invest-modal')">
                                            <div class="action-icon">
                                                <i class="fas fa-plus-circle"></i>
                                            </div>
                                            <div class="action-title">New Investment</div>
                                            <div class="action-desc">Start a new investment plan</div>
                                        </div>
                                        <div class="action-card" onclick="app.openModal('deposit-modal')">
                                            <div class="action-icon">
                                                <i class="fas fa-wallet"></i>
                                            </div>
                                            <div class="action-title">Deposit Funds</div>
                                            <div class="action-desc">Add funds to your account</div>
                                        </div>
                                        <div class="action-card" onclick="app.openModal('withdraw-modal')">
                                            <div class="action-icon">
                                                <i class="fas fa-money-bill-wave"></i>
                                            </div>
                                            <div class="action-title">Withdraw Funds</div>
                                            <div class="action-desc">Transfer to your bank account</div>
                                        </div>
                                        <div class="action-card" onclick="app.showPage('referral')">
                                            <div class="action-icon">
                                                <i class="fas fa-user-friends"></i>
                                            </div>
                                            <div class="action-title">Refer Friends</div>
                                            <div class="action-desc">Earn 15% referral bonus</div>
                                        </div>
                                    </div>

                                    <!-- Recent Investments -->
                                    <div class="chart-container">
                                        <div class="d-flex align-center justify-between mb-lg">
                                            <h3>Active Investments</h3>
                                            <a href="#" onclick="app.showPage('investment-history')" class="text-sm">View All</a>
                                        </div>
                                        <div id="active-investments-list">
                                            <!-- Investments will be dynamically loaded -->
                                        </div>
                                    </div>
                                </div>

                                <!-- Sidebar -->
                                <div>
                                    <!-- Recent Activity -->
                                    <div class="recent-activity">
                                        <div class="d-flex align-center justify-between mb-lg">
                                            <h3>Recent Activity</h3>
                                            <a href="#" onclick="app.showPage('transaction-history')" class="text-sm">View All</a>
                                        </div>
                                        <div class="activity-list" id="recent-activity-list">
                                            <!-- Activity will be dynamically loaded -->
                                        </div>
                                    </div>

                                    <!-- Pending Actions -->
                                    <div class="chart-container mt-xl">
                                        <h3 class="mb-lg">Pending Actions</h3>
                                        <div id="pending-actions-list">
                                            <!-- Pending actions will be dynamically loaded -->
                                        </div>
                                    </div>

                                    <!-- Daily Interest Calculator -->
                                    <div class="chart-container mt-xl">
                                        <h3 class="mb-lg">Daily Interest Calculator</h3>
                                        <div id="interest-calculator">
                                            <!-- Calculator will be dynamically loaded -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderInvestmentPlansPage() {
                return `
                    <section class="section" id="investment-plans-page">
                        <div class="container">
                            <div class="text-center mb-xl">
                                <h1 class="mb-md">Raw Materials Investment Plans</h1>
                                <p class="text-muted">Choose the plan that best fits your financial goals and investment strategy</p>
                            </div>

                            <div class="mb-lg">
                                <div class="d-flex gap-md flex-wrap">
                                    <button class="btn btn-outline active" onclick="app.filterPlans('all')">All Plans</button>
                                    <button class="btn btn-outline" onclick="app.filterPlans('low')">Low Risk</button>
                                    <button class="btn btn-outline" onclick="app.filterPlans('medium')">Medium Risk</button>
                                    <button class="btn btn-outline" onclick="app.filterPlans('high')">High Risk</button>
                                    <button class="btn btn-outline" onclick="app.filterPlans('popular')">Most Popular</button>
                                </div>
                            </div>

                            <div class="plans-grid" id="investment-plans-container">
                                <!-- Plans will be dynamically loaded -->
                            </div>

                            <div class="text-center mt-xl">
                                <div class="alert alert-info">
                                    <i class="fas fa-info-circle"></i>
                                    <span>All investments are secured with bank-level protection and daily monitoring.</span>
                                </div>
                            </div>
                        </div>
                    </section>
                `;
            }

            renderProfilePage() {
                return `
                    <div class="profile">
                        <div class="profile-header">
                            <div class="container">
                                <div class="text-center">
                                    <div class="profile-avatar" id="profile-avatar">
                                        ${this.state.currentUser ? this.generateAvatarInitials(this.state.currentUser.full_name) : 'JD'}
                                    </div>
                                    <div class="profile-info">
                                        <h1 class="profile-name" id="profile-name">${this.state.currentUser?.full_name || 'Loading...'}</h1>
                                        <p class="profile-email" id="profile-email">${this.state.currentUser?.email || 'Loading...'}</p>
                                        <div class="profile-stats">
                                            <div class="stat-card">
                                                <div class="stat-value" id="profile-balance">â‚¦0.00</div>
                                                <div class="stat-label">Balance</div>
                                            </div>
                                            <div class="stat-card">
                                                <div class="stat-value" id="profile-investments">0</div>
                                                <div class="stat-label">Investments</div>
                                            </div>
                                            <div class="stat-card">
                                                <div class="stat-value" id="profile-referrals">0</div>
                                                <div class="stat-label">Referrals</div>
                                            </div>
                                            <div class="stat-card">
                                                <div class="badge" id="profile-kyc-status">Pending</div>
                                                <div class="stat-label">KYC Status</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="container">
                            <div class="profile-content">
                                <!-- Sidebar -->
                                <div class="profile-sidebar">
                                    <nav class="profile-nav">
                                        <a href="#" class="profile-nav-link active" onclick="app.switchProfileTab('personal')">
                                            <i class="fas fa-user profile-nav-icon"></i>
                                            <span>Personal Information</span>
                                        </a>
                                        <a href="#" class="profile-nav-link" onclick="app.switchProfileTab('security')">
                                            <i class="fas fa-shield-alt profile-nav-icon"></i>
                                            <span>Security</span>
                                        </a>
                                        <a href="#" class="profile-nav-link" onclick="app.switchProfileTab('bank')">
                                            <i class="fas fa-university profile-nav-icon"></i>
                                            <span>Bank Details</span>
                                        </a>
                                        <a href="#" class="profile-nav-link" onclick="app.switchProfileTab('preferences')">
                                            <i class="fas fa-cog profile-nav-icon"></i>
                                            <span>Preferences</span>
                                        </a>
                                        <a href="#" class="profile-nav-link" onclick="app.switchProfileTab('kyc')">
                                            <i class="fas fa-id-card profile-nav-icon"></i>
                                            <span>KYC Verification</span>
                                        </a>
                                        <a href="#" class="profile-nav-link" onclick="app.switchProfileTab('documents')">
                                            <i class="fas fa-file-alt profile-nav-icon"></i>
                                            <span>Documents</span>
                                        </a>
                                    </nav>
                                </div>

                                <!-- Main Content -->
                                <div>
                                    <!-- Personal Information Tab -->
                                    <div class="profile-section" id="personal-tab">
                                        <h2 class="profile-section-title">Personal Information</h2>
                                        <form id="personal-form">
                                            <div class="form-group">
                                                <label for="profile-fullname" class="form-label">Full Name</label>
                                                <input type="text" id="profile-fullname" class="form-control" value="${this.state.currentUser?.full_name || ''}">
                                            </div>
                                            <div class="form-group">
                                                <label for="profile-email" class="form-label">Email Address</label>
                                                <input type="email" id="profile-email" class="form-control" value="${this.state.currentUser?.email || ''}" readonly>
                                            </div>
                                            <div class="form-group">
                                                <label for="profile-phone" class="form-label">Phone Number</label>
                                                <input type="tel" id="profile-phone" class="form-control" value="${this.state.currentUser?.phone || ''}">
                                            </div>
                                            <div class="form-group">
                                                <label for="profile-country" class="form-label">Country</label>
                                                <select id="profile-country" class="form-control">
                                                    <option value="ng" ${this.state.currentUser?.country === 'ng' ? 'selected' : ''}>Nigeria</option>
                                                    <option value="gh" ${this.state.currentUser?.country === 'gh' ? 'selected' : ''}>Ghana</option>
                                                    <option value="sa" ${this.state.currentUser?.country === 'sa' ? 'selected' : ''}>South Africa</option>
                                                    <option value="other" ${!['ng', 'gh', 'sa'].includes(this.state.currentUser?.country) ? 'selected' : ''}>Other</option>
                                                </select>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Save Changes</button>
                                        </form>
                                    </div>

                                    <!-- Security Tab -->
                                    <div class="profile-section d-none" id="security-tab">
                                        <h2 class="profile-section-title">Security Settings</h2>
                                        <div class="form-group">
                                            <label class="form-label">Two-Factor Authentication</label>
                                            <div class="alert alert-info">
                                                <div class="d-flex align-center justify-between">
                                                    <div>
                                                        <i class="fas fa-shield-alt"></i>
                                                        <span>Status: <span id="2fa-status">Disabled</span></span>
                                                    </div>
                                                    <button type="button" class="btn btn-outline btn-sm" id="enable-2fa-btn" onclick="app.enableTwoFactorAuth()">Enable 2FA</button>
                                                </div>
                                            </div>
                                        </div>
                                        <form id="password-change-form">
                                            <div class="form-group">
                                                <label for="current-password" class="form-label">Current Password</label>
                                                <div class="password-input">
                                                    <input type="password" id="current-password" class="form-control" placeholder="Enter current password">
                                                    <button type="button" class="password-toggle" onclick="app.togglePassword('current-password')">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="new-password" class="form-label">New Password</label>
                                                <div class="password-input">
                                                    <input type="password" id="new-password" class="form-control" placeholder="Enter new password">
                                                    <button type="button" class="password-toggle" onclick="app.togglePassword('new-password')">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="confirm-new-password" class="form-label">Confirm New Password</label>
                                                <div class="password-input">
                                                    <input type="password" id="confirm-new-password" class="form-control" placeholder="Confirm new password">
                                                    <button type="button" class="password-toggle" onclick="app.togglePassword('confirm-new-password')">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Change Password</button>
                                        </form>
                                    </div>

                                    <!-- Bank Details Tab -->
                                    <div class="profile-section d-none" id="bank-tab">
                                        <h2 class="profile-section-title">Bank Account Details</h2>
                                        <form id="bank-form">
                                            <div class="form-group">
                                                <label for="bank-name" class="form-label">Bank Name</label>
                                                <input type="text" id="bank-name" class="form-control" placeholder="Enter your bank name">
                                            </div>
                                            <div class="form-group">
                                                <label for="account-name" class="form-label">Account Name</label>
                                                <input type="text" id="account-name" class="form-control" placeholder="Enter account name">
                                            </div>
                                            <div class="form-group">
                                                <label for="account-number" class="form-label">Account Number</label>
                                                <input type="text" id="account-number" class="form-control" placeholder="Enter account number">
                                            </div>
                                            <div class="form-group">
                                                <label for="bank-code" class="form-label">Bank Code (Optional)</label>
                                                <input type="text" id="bank-code" class="form-control" placeholder="Enter bank code">
                                            </div>
                                            <button type="submit" class="btn btn-primary">Save Bank Details</button>
                                        </form>
                                    </div>

                                    <!-- Preferences Tab -->
                                    <div class="profile-section d-none" id="preferences-tab">
                                        <h2 class="profile-section-title">Account Preferences</h2>
                                        <form id="preferences-form">
                                            <div class="form-group">
                                                <label for="currency" class="form-label">Default Currency</label>
                                                <select id="currency" class="form-control">
                                                    <option value="NGN" ${this.state.currentUser?.currency === 'NGN' ? 'selected' : ''}>NGN (â‚¦)</option>
                                                    <option value="USD" ${this.state.currentUser?.currency === 'USD' ? 'selected' : ''}>USD ($)</option>
                                                    <option value="EUR" ${this.state.currentUser?.currency === 'EUR' ? 'selected' : ''}>EUR (â‚¬)</option>
                                                    <option value="GBP" ${this.state.currentUser?.currency === 'GBP' ? 'selected' : ''}>GBP (Â£)</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="risk-tolerance" class="form-label">Risk Tolerance</label>
                                                <select id="risk-tolerance" class="form-control">
                                                    <option value="low" ${this.state.currentUser?.risk_tolerance === 'low' ? 'selected' : ''}>Low (Conservative)</option>
                                                    <option value="medium" ${this.state.currentUser?.risk_tolerance === 'medium' ? 'selected' : ''}>Medium (Balanced)</option>
                                                    <option value="high" ${this.state.currentUser?.risk_tolerance === 'high' ? 'selected' : ''}>High (Aggressive)</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="investment-strategy" class="form-label">Investment Strategy</label>
                                                <select id="investment-strategy" class="form-control">
                                                    <option value="conservative" ${this.state.currentUser?.investment_strategy === 'conservative' ? 'selected' : ''}>Conservative</option>
                                                    <option value="balanced" ${this.state.currentUser?.investment_strategy === 'balanced' ? 'selected' : ''}>Balanced</option>
                                                    <option value="aggressive" ${this.state.currentUser?.investment_strategy === 'aggressive' ? 'selected' : ''}>Aggressive</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <div class="form-check">
                                                    <input type="checkbox" id="email-notifications" class="form-check-input" ${this.state.currentUser?.email_notifications ? 'checked' : ''}>
                                                    <label for="email-notifications" class="form-check-label">Email Notifications</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="form-check">
                                                    <input type="checkbox" id="sms-notifications" class="form-check-input" ${this.state.currentUser?.sms_notifications ? 'checked' : ''}>
                                                    <label for="sms-notifications" class="form-check-label">SMS Notifications</label>
                                                </div>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Save Preferences</button>
                                        </form>
                                    </div>

                                    <!-- KYC Verification Tab -->
                                    <div class="profile-section d-none" id="kyc-tab">
                                        <h2 class="profile-section-title">KYC Verification</h2>
                                        <div class="kyc-status">
                                            <div class="kyc-status-header">
                                                <div>
                                                    <h3 class="mb-xs">Verification Status</h3>
                                                    <p class="text-muted" id="kyc-status-text">Not submitted</p>
                                                </div>
                                                <div class="badge badge-warning" id="kyc-badge">Pending</div>
                                            </div>
                                            <div class="kyc-steps">
                                                <div class="kyc-step active">
                                                    <div class="kyc-step-number">1</div>
                                                    <div class="kyc-step-label">Submit</div>
                                                </div>
                                                <div class="kyc-step">
                                                    <div class="kyc-step-number">2</div>
                                                    <div class="kyc-step-label">Review</div>
                                                </div>
                                                <div class="kyc-step">
                                                    <div class="kyc-step-number">3</div>
                                                    <div class="kyc-step-label">Verify</div>
                                                </div>
                                            </div>
                                        </div>
                                        <form id="kyc-form">
                                            <div class="form-group">
                                                <label for="kyc-id-type" class="form-label">ID Type</label>
                                                <select id="kyc-id-type" class="form-control" required>
                                                    <option value="">Select ID Type</option>
                                                    <option value="national_id">National ID</option>
                                                    <option value="passport">Passport</option>
                                                    <option value="driver_license">Driver's License</option>
                                                    <option value="voters_card">Voter's Card</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="kyc-id-number" class="form-label">ID Number</label>
                                                <input type="text" id="kyc-id-number" class="form-control" placeholder="Enter ID Number" required>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Upload ID Front (Required)</label>
                                                <div class="file-upload" onclick="document.getElementById('kyc-id-front').click()">
                                                    <i class="fas fa-cloud-upload-alt"></i>
                                                    <p>Click to upload ID front image</p>
                                                    <input type="file" id="kyc-id-front" accept="image/*" style="display: none;" required>
                                                </div>
                                                <img id="kyc-id-front-preview" class="file-preview" alt="ID front preview">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Upload ID Back (Optional)</label>
                                                <div class="file-upload" onclick="document.getElementById('kyc-id-back').click()">
                                                    <i class="fas fa-cloud-upload-alt"></i>
                                                    <p>Click to upload ID back image</p>
                                                    <input type="file" id="kyc-id-back" accept="image/*" style="display: none;">
                                                </div>
                                                <img id="kyc-id-back-preview" class="file-preview" alt="ID back preview">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Upload Selfie with ID (Required)</label>
                                                <div class="file-upload" onclick="document.getElementById('kyc-selfie').click()">
                                                    <i class="fas fa-cloud-upload-alt"></i>
                                                    <p>Click to upload selfie with ID</p>
                                                    <input type="file" id="kyc-selfie" accept="image/*" style="display: none;" required>
                                                </div>
                                                <img id="kyc-selfie-preview" class="file-preview" alt="Selfie with ID preview">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Upload Address Proof (Optional)</label>
                                                <div class="file-upload" onclick="document.getElementById('kyc-address-proof').click()">
                                                    <i class="fas fa-cloud-upload-alt"></i>
                                                    <p>Click to upload address proof</p>
                                                    <input type="file" id="kyc-address-proof" accept="image/*" style="display: none;">
                                                </div>
                                                <img id="kyc-address-proof-preview" class="file-preview" alt="Address proof preview">
                                            </div>
                                            <button type="submit" class="btn btn-primary btn-full" id="kyc-submit-btn">
                                                <span>Submit KYC Application</span>
                                                <i class="fas fa-spinner fa-spin d-none" id="kyc-spinner"></i>
                                            </button>
                                        </form>
                                    </div>

                                    <!-- Documents Tab -->
                                    <div class="profile-section d-none" id="documents-tab">
                                        <h2 class="profile-section-title">Documents & Proofs</h2>
                                        <div id="documents-list">
                                            <!-- Documents will be dynamically loaded -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderReferralPage() {
                return `
                    <div class="referral">
                        <div class="referral-header">
                            <div class="container">
                                <h1 class="mb-md">Referral Program</h1>
                                <p class="text-muted">Earn more by inviting friends to join Raw Wealthy</p>
                            </div>
                        </div>

                        <div class="container">
                            <!-- Referral Stats -->
                            <div class="referral-stats">
                                <div class="referral-stat-card">
                                    <div class="referral-stat-value" id="total-referrals">0</div>
                                    <div class="referral-stat-label">Total Referrals</div>
                                </div>
                                <div class="referral-stat-card">
                                    <div class="referral-stat-value" id="active-referrals">0</div>
                                    <div class="referral-stat-label">Active Referrals</div>
                                </div>
                                <div class="referral-stat-card">
                                    <div class="referral-stat-value" id="total-referral-earnings">â‚¦0.00</div>
                                    <div class="referral-stat-label">Total Earnings</div>
                                </div>
                                <div class="referral-stat-card">
                                    <div class="referral-stat-value" id="pending-referral-earnings">â‚¦0.00</div>
                                    <div class="referral-stat-label">Pending Earnings</div>
                                </div>
                            </div>

                            <!-- Referral Link -->
                            <div class="referral-link-card">
                                <h3 class="mb-lg">Your Referral Link</h3>
                                <p class="text-muted mb-lg">Share this link with friends and earn 15% of their first investment</p>
                                <div class="referral-link-input">
                                    <input type="text" id="referral-link" class="form-control" value="${window.location.origin}/?ref=${this.state.currentUser?.referral_code || ''}" readonly>
                                    <button class="btn btn-primary" onclick="app.copyToClipboard('referral-link')">Copy</button>
                                </div>
                                <div class="referral-link-input mt-md">
                                    <input type="text" id="referral-code" class="form-control" value="${this.state.currentUser?.referral_code || ''}" readonly>
                                    <button class="btn btn-outline" onclick="app.copyToClipboard('referral-code')">Copy Code</button>
                                </div>
                                <div class="referral-actions mt-lg">
                                    <button class="btn btn-outline" onclick="app.shareReferral('whatsapp')">
                                        <i class="fab fa-whatsapp"></i> WhatsApp
                                    </button>
                                    <button class="btn btn-outline" onclick="app.shareReferral('telegram')">
      <!-- Continuing from where the referral page was cut off -->
<!-- Add the missing share buttons -->
                                </div>
                                <div class="referral-actions mt-lg">
                                    <button class="btn btn-outline" onclick="app.shareReferral('whatsapp')">
                                        <i class="fab fa-whatsapp"></i> WhatsApp
                                    </button>
                                    <button class="btn btn-outline" onclick="app.shareReferral('telegram')">
                                        <i class="fab fa-telegram"></i> Telegram
                                    </button>
                                    <button class="btn btn-outline" onclick="app.shareReferral('facebook')">
                                        <i class="fab fa-facebook"></i> Facebook
                                    </button>
                                    <button class="btn btn-outline" onclick="app.shareReferral('twitter')">
                                        <i class="fab fa-twitter"></i> Twitter
                                    </button>
                                    <button class="btn btn-outline" onclick="app.shareReferral('email')">
                                        <i class="fas fa-envelope"></i> Email
                                    </button>
                                </div>
                            </div>

                            <!-- Referral Friends -->
                            <div class="referral-friends mt-xl">
                                <div class="d-flex align-center justify-between mb-lg">
                                    <h3>Your Referred Friends</h3>
                                    <span class="text-muted" id="referral-count">0 friends</span>
                                </div>
                                <div id="referral-friends-list">
                                    <!-- Referral friends will be dynamically loaded -->
                                    <div class="text-center py-lg">
                                        <i class="fas fa-user-friends fa-3x text-muted mb-md"></i>
                                        <p class="text-muted">No referrals yet. Share your link to start earning!</p>
                                    </div>
                                </div>
                            </div>

                            <!-- How It Works -->
                            <div class="referral-friends mt-xl">
                                <h3 class="mb-lg">How It Works</h3>
                                <div class="d-grid gap-md" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                                    <div class="feature-card">
                                        <div class="feature-icon">
                                            <i class="fas fa-share-alt"></i>
                                        </div>
                                        <h3 class="feature-title">Share Your Link</h3>
                                        <p class="feature-desc">Share your unique referral link with friends and family.</p>
                                    </div>
                                    <div class="feature-card">
                                        <div class="feature-icon">
                                            <i class="fas fa-user-plus"></i>
                                        </div>
                                        <h3 class="feature-title">They Sign Up</h3>
                                        <p class="feature-desc">Your friends sign up using your referral link and make their first investment.</p>
                                    </div>
                                    <div class="feature-card">
                                        <div class="feature-icon">
                                            <i class="fas fa-money-bill-wave"></i>
                                        </div>
                                        <h3 class="feature-title">Earn Commission</h3>
                                        <p class="feature-desc">Earn 15% commission on your friend's first investment instantly.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderSupportPage() {
                return `
                    <div class="support">
                        <div class="support-header">
                            <div class="container">
                                <h1 class="mb-md">Support Center</h1>
                                <p class="text-muted">Get help with your investments, account, or any other questions</p>
                            </div>
                        </div>

                        <div class="container">
                            <!-- Support Categories -->
                            <div class="support-categories">
                                <div class="support-category" onclick="app.selectSupportCategory('general')">
                                    <div class="support-category-icon">
                                        <i class="fas fa-question-circle"></i>
                                    </div>
                                    <div class="support-category-title">General Help</div>
                                    <div class="support-category-desc">General platform questions</div>
                                </div>
                                <div class="support-category" onclick="app.selectSupportCategory('technical')">
                                    <div class="support-category-icon">
                                        <i class="fas fa-cogs"></i>
                                    </div>
                                    <div class="support-category-title">Technical Issues</div>
                                    <div class="support-category-desc">Platform bugs and technical problems</div>
                                </div>
                                <div class="support-category" onclick="app.selectSupportCategory('investment')">
                                    <div class="support-category-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <div class="support-category-title">Investments</div>
                                    <div class="support-category-desc">Questions about investments</div>
                                </div>
                                <div class="support-category" onclick="app.selectSupportCategory('withdrawal')">
                                    <div class="support-category-icon">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                    <div class="support-category-title">Withdrawals</div>
                                    <div class="support-category-desc">Withdrawal-related questions</div>
                                </div>
                            </div>

                            <!-- Create Ticket Form -->
                            <div class="support-section mt-xl">
                                <h2 class="mb-lg">Create Support Ticket</h2>
                                <form id="support-form">
                                    <div class="form-group">
                                        <label for="support-subject" class="form-label">Subject</label>
                                        <input type="text" id="support-subject" class="form-control" placeholder="Enter ticket subject" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="support-category" class="form-label">Category</label>
                                        <select id="support-category" class="form-control" required>
                                            <option value="">Select category</option>
                                            <option value="general">General</option>
                                            <option value="technical">Technical</option>
                                            <option value="investment">Investment</option>
                                            <option value="withdrawal">Withdrawal</option>
                                            <option value="deposit">Deposit</option>
                                            <option value="kyc">KYC</option>
                                            <option value="account">Account</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="support-priority" class="form-label">Priority</label>
                                        <select id="support-priority" class="form-control" required>
                                            <option value="medium">Medium</option>
                                            <option value="low">Low</option>
                                            <option value="high">High</option>
                                            <option value="urgent">Urgent</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="support-message" class="form-label">Message</label>
                                        <textarea id="support-message" class="form-control" rows="5" placeholder="Describe your issue in detail..." required></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Attachments (Optional, max 5 files)</label>
                                        <div class="file-upload" onclick="document.getElementById('support-attachments').click()">
                                            <i class="fas fa-paperclip"></i>
                                            <p>Click to attach files (images, documents)</p>
                                            <input type="file" id="support-attachments" accept="image/*,.pdf,.doc,.docx" multiple style="display: none;">
                                        </div>
                                        <div id="support-attachments-preview" class="mt-md"></div>
                                    </div>
                                    <button type="submit" class="btn btn-primary btn-full">
                                        <span>Submit Ticket</span>
                                        <i class="fas fa-spinner fa-spin d-none" id="support-spinner"></i>
                                    </button>
                                </form>
                            </div>

                            <!-- FAQ Section -->
                            <div class="faq-section mt-xl">
                                <h2 class="mb-lg">Frequently Asked Questions</h2>
                                <div class="faq-list">
                                    <div class="faq-item" onclick="app.toggleFAQ(1)">
                                        <div class="faq-question">
                                            <span>How do I start investing?</span>
                                            <i class="fas fa-chevron-down faq-toggle"></i>
                                        </div>
                                        <div class="faq-answer">
                                            <p>To start investing, follow these steps:</p>
                                            <ol>
                                                <li>Create an account and complete KYC verification</li>
                                                <li>Deposit funds into your wallet</li>
                                                <li>Browse investment plans and select one that fits your goals</li>
                                                <li>Click "Invest Now" and follow the instructions</li>
                                                <li>Upload payment proof and wait for approval</li>
                                            </ol>
                                        </div>
                                    </div>
                                    <div class="faq-item" onclick="app.toggleFAQ(2)">
                                        <div class="faq-question">
                                            <span>When will I receive my earnings?</span>
                                            <i class="fas fa-chevron-down faq-toggle"></i>
                                        </div>
                                        <div class="faq-answer">
                                            <p>Daily earnings are calculated and credited to your account every 24 hours. You can withdraw your earnings once they reach the minimum withdrawal amount.</p>
                                        </div>
                                    </div>
                                    <div class="faq-item" onclick="app.toggleFAQ(3)">
                                        <div class="faq-question">
                                            <span>How long does KYC verification take?</span>
                                            <i class="fas fa-chevron-down faq-toggle"></i>
                                        </div>
                                        <div class="faq-answer">
                                            <p>KYC verification typically takes 24-48 hours. You'll receive an email notification once your verification is complete.</p>
                                        </div>
                                    </div>
                                    <div class="faq-item" onclick="app.toggleFAQ(4)">
                                        <div class="faq-question">
                                            <span>What is the minimum investment amount?</span>
                                            <i class="fas fa-chevron-down faq-toggle"></i>
                                        </div>
                                        <div class="faq-answer">
                                            <p>The minimum investment amount is â‚¦3,500. However, some plans may have higher minimum requirements.</p>
                                        </div>
                                    </div>
                                    <div class="faq-item" onclick="app.toggleFAQ(5)">
                                        <div class="faq-question">
                                            <span>How do I withdraw my earnings?</span>
                                            <i class="fas fa-chevron-down faq-toggle"></i>
                                        </div>
                                        <div class="faq-answer">
                                            <p>To withdraw earnings:</p>
                                            <ol>
                                                <li>Go to the Withdraw section in your dashboard</li>
                                                <li>Enter the amount you wish to withdraw (minimum â‚¦1,000)</li>
                                                <li>Select your preferred withdrawal method</li>
                                                <li>Submit the request and wait for approval (24-48 hours)</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- My Tickets -->
                            <div class="support-section mt-xl">
                                <div class="d-flex align-center justify-between mb-lg">
                                    <h2>My Support Tickets</h2>
                                    <button class="btn btn-outline btn-sm" onclick="app.loadSupportTickets()">
                                        <i class="fas fa-sync-alt"></i> Refresh
                                    </button>
                                </div>
                                <div id="support-tickets-list">
                                    <!-- Tickets will be dynamically loaded -->
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderAdminPage() {
                return `
                    <div class="admin">
                        <div class="admin-header">
                            <div class="container">
                                <div class="admin-title">
                                    <i class="fas fa-shield-alt fa-2x text-success"></i>
                                    <div>
                                        <h1>Admin Dashboard</h1>
                                        <p class="text-muted">Manage platform users, investments, and system settings</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="container">
                            <!-- Admin Stats -->
                            <div class="admin-stats" id="admin-stats">
                                <!-- Stats will be dynamically loaded -->
                            </div>

                            <div class="admin-content">
                                <!-- Sidebar -->
                                <div class="admin-sidebar">
                                    <nav class="admin-nav">
                                        <a href="#" class="admin-nav-link active" onclick="app.switchAdminTab('overview')">
                                            <i class="fas fa-tachometer-alt admin-nav-icon"></i>
                                            <span>Overview</span>
                                        </a>
                                        <a href="#" class="admin-nav-link" onclick="app.switchAdminTab('users')">
                                            <i class="fas fa-users admin-nav-icon"></i>
                                            <span>Users</span>
                                        </a>
                                        <a href="#" class="admin-nav-link" onclick="app.switchAdminTab('investments')">
                                            <i class="fas fa-chart-line admin-nav-icon"></i>
                                            <span>Investments</span>
                                        </a>
                                        <a href="#" class="admin-nav-link" onclick="app.switchAdminTab('deposits')">
                                            <i class="fas fa-wallet admin-nav-icon"></i>
                                            <span>Deposits</span>
                                        </a>
                                        <a href="#" class="admin-nav-link" onclick="app.switchAdminTab('withdrawals')">
                                            <i class="fas fa-money-bill-wave admin-nav-icon"></i>
                                            <span>Withdrawals</span>
                                        </a>
                                        <a href="#" class="admin-nav-link" onclick="app.switchAdminTab('kyc')">
                                            <i class="fas fa-id-card admin-nav-icon"></i>
                                            <span>KYC Verification</span>
                                        </a>
                                        <a href="#" class="admin-nav-link" onclick="app.switchAdminTab('transactions')">
                                            <i class="fas fa-exchange-alt admin-nav-icon"></i>
                                            <span>Transactions</span>
                                        </a>
                                        <a href="#" class="admin-nav-link" onclick="app.switchAdminTab('plans')">
                                            <i class="fas fa-boxes admin-nav-icon"></i>
                                            <span>Investment Plans</span>
                                        </a>
                                        <a href="#" class="admin-nav-link" onclick="app.switchAdminTab('settings')">
                                            <i class="fas fa-cogs admin-nav-icon"></i>
                                            <span>Settings</span>
                                        </a>
                                        <a href="#" class="admin-nav-link" onclick="app.switchAdminTab('audit')">
                                            <i class="fas fa-history admin-nav-icon"></i>
                                            <span>Audit Log</span>
                                        </a>
                                    </nav>
                                </div>

                                <!-- Main Content -->
                                <div>
                                    <!-- Overview Tab -->
                                    <div class="admin-section" id="overview-tab">
                                        <h2 class="admin-section-title">Platform Overview</h2>
                                        <div class="d-grid gap-lg" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                                            <div class="chart-container">
                                                <h3 class="mb-lg">User Growth</h3>
                                                <canvas id="user-growth-chart" height="200"></canvas>
                                            </div>
                                            <div class="chart-container">
                                                <h3 class="mb-lg">Revenue Overview</h3>
                                                <canvas id="revenue-chart" height="200"></canvas>
                                            </div>
                                        </div>
                                        <div class="mt-lg">
                                            <h3 class="mb-lg">Quick Actions</h3>
                                            <div class="d-flex gap-md flex-wrap">
                                                <button class="btn btn-primary" onclick="app.switchAdminTab('users')">
                                                    <i class="fas fa-user-plus"></i> Add User
                                                </button>
                                                <button class="btn btn-primary" onclick="app.switchAdminTab('plans')">
                                                    <i class="fas fa-plus-circle"></i> Add Plan
                                                </button>
                                                <button class="btn btn-primary" onclick="app.switchAdminTab('settings')">
                                                    <i class="fas fa-cog"></i> Settings
                                                </button>
                                                <button class="btn btn-primary" onclick="app.generateReport()">
                                                    <i class="fas fa-file-export"></i> Export Report
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Users Tab -->
                                    <div class="admin-section d-none" id="users-tab">
                                        <div class="d-flex align-center justify-between mb-lg">
                                            <h2 class="admin-section-title">User Management</h2>
                                            <button class="btn btn-primary" onclick="app.openAddUserModal()">
                                                <i class="fas fa-user-plus"></i> Add User
                                            </button>
                                        </div>
                                        <div class="admin-filters">
                                            <input type="text" id="user-search" class="form-control" placeholder="Search users..." onkeyup="app.searchUsers()">
                                            <select id="user-role-filter" class="form-control" onchange="app.filterUsers()">
                                                <option value="">All Roles</option>
                                                <option value="user">User</option>
                                                <option value="admin">Admin</option>
                                                <option value="super_admin">Super Admin</option>
                                            </select>
                                            <select id="user-status-filter" class="form-control" onchange="app.filterUsers()">
                                                <option value="">All Status</option>
                                                <option value="active">Active</option>
                                                <option value="inactive">Inactive</option>
                                            </select>
                                            <button class="btn btn-outline" onclick="app.resetUserFilters()">
                                                <i class="fas fa-redo"></i> Reset
                                            </button>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table" id="users-table">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Email</th>
                                                        <th>Role</th>
                                                        <th>Balance</th>
                                                        <th>Status</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="users-table-body">
                                                    <!-- Users will be dynamically loaded -->
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="d-flex justify-between align-center mt-lg">
                                            <div class="text-muted" id="users-pagination-info">Showing 0 of 0 users</div>
                                            <div class="d-flex gap-sm">
                                                <button class="btn btn-outline btn-sm" onclick="app.prevUsersPage()" id="prev-users-btn" disabled>
                                                    <i class="fas fa-chevron-left"></i> Prev
                                                </button>
                                                <button class="btn btn-outline btn-sm" onclick="app.nextUsersPage()" id="next-users-btn" disabled>
                                                    Next <i class="fas fa-chevron-right"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Other admin tabs will be implemented similarly -->
                                    <div id="investments-tab" class="admin-section d-none">
                                        <!-- Investments management -->
                                    </div>
                                    <div id="deposits-tab" class="admin-section d-none">
                                        <!-- Deposits management -->
                                    </div>
                                    <div id="withdrawals-tab" class="admin-section d-none">
                                        <!-- Withdrawals management -->
                                    </div>
                                    <div id="kyc-tab" class="admin-section d-none">
                                        <!-- KYC management -->
                                    </div>
                                    <div id="transactions-tab" class="admin-section d-none">
                                        <!-- Transactions management -->
                                    </div>
                                    <div id="plans-tab" class="admin-section d-none">
                                        <!-- Plans management -->
                                    </div>
                                    <div id="settings-tab" class="admin-section d-none">
                                        <!-- Settings management -->
                                    </div>
                                    <div id="audit-tab" class="admin-section d-none">
                                        <!-- Audit log management -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderNotificationsPage() {
                return `
                    <div class="section" style="padding-top: 100px;">
                        <div class="container">
                            <div class="d-flex align-center justify-between mb-xl">
                                <h1>Notifications</h1>
                                <div class="d-flex gap-sm">
                                    <button class="btn btn-outline btn-sm" onclick="app.markAllNotificationsRead()">
                                        <i class="fas fa-check-double"></i> Mark All Read
                                    </button>
                                    <button class="btn btn-outline btn-sm" onclick="app.clearAllNotifications()">
                                        <i class="fas fa-trash"></i> Clear All
                                    </button>
                                </div>
                            </div>

                            <div class="d-flex gap-md mb-lg">
                                <button class="btn btn-outline active" onclick="app.filterNotifications('all')">
                                    All Notifications
                                </button>
                                <button class="btn btn-outline" onclick="app.filterNotifications('unread')">
                                    Unread Only
                                </button>
                            </div>

                            <div id="notifications-list">
                                <!-- Notifications will be dynamically loaded -->
                                <div class="text-center py-xl">
                                    <i class="fas fa-bell-slash fa-3x text-muted mb-md"></i>
                                    <h3 class="mb-sm">No notifications</h3>
                                    <p class="text-muted">You're all caught up! No new notifications.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            // ==================== DASHBOARD METHODS ====================
            initializeDashboard() {
                this.setupEarningsChart();
                this.loadDashboardData();
                this.setupDashboardEventListeners();
            }

            setupEarningsChart() {
                const ctx = document.getElementById('earnings-chart');
                if (!ctx) return;

                this.charts.earnings = new Chart(ctx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'Daily Earnings',
                            data: [0, 0, 0, 0, 0, 0, 0],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: (context) => `â‚¦${context.parsed.y.toLocaleString()}`
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: (value) => `â‚¦${value.toLocaleString()}`
                                }
                            }
                        }
                    }
                });
            }

            async loadDashboardData() {
                if (!this.state.isAuthenticated) return;

                try {
                    const response = await this.apiRequest('/api/profile');
                    const data = response.data;
                    
                    // Update user stats
                    this.state.userStats = {
                        balance: data.user.balance || 0,
                        activeInvestments: data.dashboard_stats.active_investments_count || 0,
                        dailyEarnings: data.dashboard_stats.daily_interest || 0,
                        totalEarnings: data.dashboard_stats.total_earnings || 0,
                        referralEarnings: data.dashboard_stats.referral_earnings || 0,
                        pendingReferrals: data.dashboard_stats.referral_count || 0
                    };

                    // Update UI
                    this.updateDashboardStats();
                    this.updateInvestmentList(data.investment_history);
                    this.updateActivityList(data.transaction_history);
                    this.updatePendingActions(data);

                    // Update chart with real data
                    if (this.charts.earnings) {
                        this.updateEarningsChart(data.transaction_history);
                    }

                } catch (error) {
                    console.error('Error loading dashboard data:', error);
                }
            }

            updateDashboardStats() {
                // Update balance
                const totalBalanceEl = document.getElementById('total-balance');
                if (totalBalanceEl) {
                    totalBalanceEl.textContent = this.formatCurrency(this.state.userStats.balance);
                }

                // Update active investments
                const activeInvestmentsEl = document.getElementById('active-investments');
                if (activeInvestmentsEl) {
                    activeInvestmentsEl.textContent = this.formatCurrency(
                        this.state.userStats.activeInvestments * 1000 || 0
                    );
                }

                // Update daily earnings
                const dailyEarningsEl = document.getElementById('daily-earnings');
                if (dailyEarningsEl) {
                    dailyEarningsEl.textContent = this.formatCurrency(this.state.userStats.dailyEarnings);
                }

                // Update referral bonus
                const referralBonusEl = document.getElementById('referral-bonus');
                if (referralBonusEl) {
                    referralBonusEl.textContent = this.formatCurrency(this.state.userStats.referralEarnings);
                }

                // Update user name and avatar
                const userNameEl = document.getElementById('user-name');
                if (userNameEl && this.state.currentUser) {
                    userNameEl.textContent = this.state.currentUser.full_name;
                }

                const userAvatarEl = document.getElementById('user-avatar');
                if (userAvatarEl && this.state.currentUser) {
                    userAvatarEl.textContent = this.generateAvatarInitials(this.state.currentUser.full_name);
                }
            }

            updateInvestmentList(investments) {
                const container = document.getElementById('active-investments-list');
                if (!container) return;

                if (!investments || investments.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-lg">
                            <i class="fas fa-chart-line fa-3x text-muted mb-md"></i>
                            <h3 class="mb-sm">No Active Investments</h3>
                            <p class="text-muted">Start investing to grow your wealth!</p>
                            <button class="btn btn-primary mt-md" onclick="app.openModal('invest-modal')">
                                Start Investing
                            </button>
                        </div>
                    `;
                    return;
                }

                const activeInvestments = investments.filter(inv => inv.status === 'active').slice(0, 5);
                
                container.innerHTML = activeInvestments.map(inv => `
                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title">${inv.plan?.name || 'Investment'}</div>
                            <div class="activity-time">Started ${this.formatRelativeTime(inv.start_date)}</div>
                        </div>
                        <div class="activity-amount">
                            â‚¦${inv.amount?.toLocaleString() || '0'}
                        </div>
                    </div>
                `).join('');

                if (activeInvestments.length < investments.length) {
                    container.innerHTML += `
                        <div class="text-center mt-md">
                            <a href="#" onclick="app.showPage('investment-history')" class="text-sm">
                                View all ${investments.length} investments
                            </a>
                        </div>
                    `;
                }
            }

            updateActivityList(transactions) {
                const container = document.getElementById('recent-activity-list');
                if (!container || !transactions) return;

                const recentTransactions = transactions.slice(0, 10);
                
                container.innerHTML = recentTransactions.map(txn => {
                    const icon = this.getTransactionIcon(txn.type);
                    const amountClass = txn.amount > 0 ? 'text-success' : 'text-error';
                    
                    return `
                        <div class="activity-item">
                            <div class="activity-icon ${this.getTransactionColor(txn.type)}">
                                <i class="${icon}"></i>
                            </div>
                            <div class="activity-details">
                                <div class="activity-title">${txn.description}</div>
                                <div class="activity-time">${this.formatRelativeTime(txn.createdAt)}</div>
                            </div>
                            <div class="activity-amount ${amountClass}">
                                ${txn.amount > 0 ? '+' : ''}â‚¦${Math.abs(txn.amount).toLocaleString()}
                            </div>
                        </div>
                    `;
                }).join('');
            }

            updatePendingActions(data) {
                const container = document.getElementById('pending-actions-list');
                if (!container) return;

                const pendingActions = [];
                
                // Check pending investments
                if (data.investment_history?.some(inv => inv.status === 'pending')) {
                    pendingActions.push({
                        type: 'investment',
                        count: data.investment_history.filter(inv => inv.status === 'pending').length,
                        action: () => app.showPage('investment-history')
                    });
                }

                // Check pending deposits
                if (data.deposit_history?.some(dep => dep.status === 'pending')) {
                    pendingActions.push({
                        type: 'deposit',
                        count: data.deposit_history.filter(dep => dep.status === 'pending').length,
                        action: () => app.showPage('deposit-history')
                    });
                }

                // Check pending withdrawals
                if (data.withdrawal_history?.some(wdl => wdl.status === 'pending')) {
                    pendingActions.push({
                        type: 'withdrawal',
                        count: data.withdrawal_history.filter(wdl => wdl.status === 'pending').length,
                        action: () => app.showPage('withdrawal-history')
                    });
                }

                // Check pending KYC
                if (data.user.kyc_status === 'pending') {
                    pendingActions.push({
                        type: 'kyc',
                        count: 1,
                        action: () => app.switchProfileTab('kyc')
                    });
                }

                if (pendingActions.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-md">
                            <i class="fas fa-check-circle fa-2x text-success mb-sm"></i>
                            <p class="text-muted">No pending actions</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = pendingActions.map(action => `
                    <div class="activity-item" onclick="${action.action.toString().replace('function ', '')}">
                        <div class="activity-icon ${this.getActionColor(action.type)}">
                            <i class="${this.getActionIcon(action.type)}"></i>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title">Pending ${this.capitalize(action.type)}${action.count > 1 ? 's' : ''}</div>
                            <div class="activity-time">${action.count} ${action.count > 1 ? 'items' : 'item'} awaiting action</div>
                        </div>
                        <div class="activity-amount">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                `).join('');
            }

            updateEarningsChart(transactions) {
                if (!this.charts.earnings || !transactions) return;

                // Group earnings by day for the last 7 days
                const last7Days = Array.from({length: 7}, (_, i) => {
                    const date = new Date();
                    date.setDate(date.getDate() - (6 - i));
                    return date.toLocaleDateString('en-US', { weekday: 'short' });
                });

                const earningsByDay = last7Days.map(day => {
                    const dayTransactions = transactions.filter(txn => 
                        txn.type === 'earning' && 
                        new Date(txn.createdAt).toLocaleDateString('en-US', { weekday: 'short' }) === day
                    );
                    return dayTransactions.reduce((sum, txn) => sum + (txn.amount || 0), 0);
                });

                this.charts.earnings.data.datasets[0].data = earningsByDay;
                this.charts.earnings.update();
            }

            changeChartPeriod(period) {
                // Update chart based on selected period
                console.log('Changing chart period to:', period);
                // Implementation would fetch data for the selected period
            }

            // ==================== INVESTMENT PLANS METHODS ====================
            async loadInvestmentPlans() {
                try {
                    const response = await this.apiRequest('/api/plans');
                    this.state.investmentPlans = response.data.plans;
                    
                    // Update investment plans in modal
                    this.updateInvestmentPlanOptions();
                    
                    // Update home page plans
                    this.updateHomePagePlans();
                    
                    // Update investment plans page
                    this.updateInvestmentPlansPage();
                    
                } catch (error) {
                    console.error('Error loading investment plans:', error);
                }
            }

            updateInvestmentPlanOptions() {
                const select = document.getElementById('investment-plan');
                if (!select) return;

                select.innerHTML = '<option value="">Choose a plan</option>' +
                    this.state.investmentPlans.map(plan => `
                        <option value="${plan._id}" data-min="${plan.min_amount}" data-max="${plan.max_amount || ''}">
                            ${plan.name} - â‚¦${plan.min_amount.toLocaleString()} to â‚¦${(plan.max_amount || 'âˆž')}
                        </option>
                    `).join('');
            }

            updateHomePagePlans() {
                const container = document.getElementById('home-plans-container');
                if (!container) return;

                const popularPlans = this.state.investmentPlans
                    .filter(plan => plan.is_popular)
                    .slice(0, 3);

                container.innerHTML = popularPlans.map(plan => `
                    <div class="plan-card">
                        ${plan.is_popular ? '<div class="plan-badge">Most Popular</div>' : ''}
                        <div class="plan-header">
                            <div class="plan-icon">${plan.icon || 'ðŸ“ˆ'}</div>
                            <h3 class="plan-name">${plan.name}</h3>
                            <div class="plan-price">${plan.daily_interest}%</div>
                            <div class="plan-period">Daily Returns</div>
                        </div>
                        <div class="plan-features">
                            ${(plan.features || []).map(feature => `
                                <div class="plan-feature">
                                    <i class="fas fa-check-circle"></i>
                                    <span>${feature}</span>
                                </div>
                            `).join('')}
                        </div>
                        <button class="btn btn-primary btn-full" onclick="app.openInvestmentModal('${plan._id}')">
                            Invest Now
                        </button>
                    </div>
                `).join('');
            }

            updateInvestmentPlansPage() {
                const container = document.getElementById('investment-plans-container');
                if (!container) return;

                container.innerHTML = this.state.investmentPlans.map(plan => `
                    <div class="plan-card" data-risk="${plan.risk_level}" data-popular="${plan.is_popular}">
                        ${plan.is_popular ? '<div class="plan-badge">Most Popular</div>' : ''}
                        <div class="plan-header">
                            <div class="plan-icon">${plan.icon || 'ðŸ“ˆ'}</div>
                            <h3 class="plan-name">${plan.name}</h3>
                            <div class="plan-price">${plan.daily_interest}%</div>
                            <div class="plan-period">Daily Returns</div>
                        </div>
                        <div class="plan-details">
                            <div class="plan-detail">
                                <i class="fas fa-money-bill-wave"></i>
                                <span>Min: â‚¦${plan.min_amount.toLocaleString()}</span>
                            </div>
                            ${plan.max_amount ? `
                                <div class="plan-detail">
                                    <i class="fas fa-money-bill-wave"></i>
                                    <span>Max: â‚¦${plan.max_amount.toLocaleString()}</span>
                                </div>
                            ` : ''}
                            <div class="plan-detail">
                                <i class="fas fa-calendar-alt"></i>
                                <span>${plan.duration} days</span>
                            </div>
                            <div class="plan-detail">
                                <i class="fas fa-chart-line"></i>
                                <span>Total: ${plan.total_interest}% ROI</span>
                            </div>
                        </div>
                        <div class="plan-features">
                            ${(plan.features || []).map(feature => `
                                <div class="plan-feature">
                                    <i class="fas fa-check-circle"></i>
                                    <span>${feature}</span>
                                </div>
                            `).join('')}
                        </div>
                        <button class="btn btn-primary btn-full" onclick="app.openInvestmentModal('${plan._id}')">
                            Invest Now
                        </button>
                    </div>
                `).join('');
            }

            filterPlans(filter) {
                const buttons = document.querySelectorAll('#investment-plans-page .btn-outline');
                buttons.forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');

                const plans = document.querySelectorAll('#investment-plans-container .plan-card');
                plans.forEach(plan => {
                    const risk = plan.dataset.risk;
                    const popular = plan.dataset.popular === 'true';
                    
                    switch (filter) {
                        case 'all':
                            plan.style.display = 'block';
                            break;
                        case 'low':
                            plan.style.display = risk === 'low' ? 'block' : 'none';
                            break;
                        case 'medium':
                            plan.style.display = risk === 'medium' ? 'block' : 'none';
                            break;
                        case 'high':
                            plan.style.display = risk === 'high' ? 'block' : 'none';
                            break;
                        case 'popular':
                            plan.style.display = popular ? 'block' : 'none';
                            break;
                    }
                });
            }

            openInvestmentModal(planId) {
                if (!this.state.isAuthenticated) {
                    this.showToast('Please login to invest', 'warning');
                    this.openModal('login-modal');
                    return;
                }

                const select = document.getElementById('investment-plan');
                if (select && planId) {
                    select.value = planId;
                    select.dispatchEvent(new Event('change'));
                }
                this.openModal('invest-modal');
            }

            // ==================== PROFILE METHODS ====================
            async loadProfileData() {
                if (!this.state.isAuthenticated) return;

                try {
                    const response = await this.apiRequest('/api/profile');
                    this.updateProfileUI(response.data);
                } catch (error) {
                    console.error('Error loading profile data:', error);
                }
            }

            updateProfileUI(data) {
                // Update profile stats
                const profileBalance = document.getElementById('profile-balance');
                if (profileBalance) {
                    profileBalance.textContent = this.formatCurrency(data.user.balance || 0);
                }

                const profileInvestments = document.getElementById('profile-investments');
                if (profileInvestments) {
                    profileInvestments.textContent = data.dashboard_stats.total_investments || 0;
                }

                const profileReferrals = document.getElementById('profile-referrals');
                if (profileReferrals) {
                    profileReferrals.textContent = data.dashboard_stats.referral_count || 0;
                }

                const profileKYCStatus = document.getElementById('profile-kyc-status');
                if (profileKYCStatus) {
                    const status = data.user.kyc_status || 'not_submitted';
                    const statusText = status.charAt(0).toUpperCase() + status.slice(1);
                    profileKYCStatus.textContent = statusText;
                    profileKYCStatus.className = `badge ${this.getKYCStatusColor(status)}`;
                }

                // Update KYC steps
                this.updateKYCSteps(data.user.kyc_status);
            }

            switchProfileTab(tab) {
                // Hide all tabs
                document.querySelectorAll('.profile-section').forEach(el => {
                    el.classList.add('d-none');
                });
                
                // Remove active class from all nav links
                document.querySelectorAll('.profile-nav-link').forEach(el => {
                    el.classList.remove('active');
                });
                
                // Show selected tab
                const tabElement = document.getElementById(`${tab}-tab`);
                if (tabElement) {
                    tabElement.classList.remove('d-none');
                }
                
                // Set active nav link
                const navLink = document.querySelector(`[onclick="app.switchProfileTab('${tab}')"]`);
                if (navLink) {
                    navLink.classList.add('active');
                }

                // Load tab-specific data
                switch (tab) {
                    case 'kyc':
                        this.loadKYCData();
                        break;
                    case 'documents':
                        this.loadUserDocuments();
                        break;
                }
            }

            updateKYCSteps(status) {
                const steps = document.querySelectorAll('.kyc-step');
                if (!steps.length) return;

                steps.forEach((step, index) => {
                    step.classList.remove('active', 'completed');
                    
                    switch (status) {
                        case 'not_submitted':
                            if (index === 0) step.classList.add('active');
                            break;
                        case 'pending':
                            if (index < 2) step.classList.add('completed');
                            if (index === 1) step.classList.add('active');
                            break;
                        case 'verified':
                            steps.forEach(s => s.classList.add('completed'));
                            break;
                        case 'rejected':
                            if (index < 2) step.classList.add('completed');
                            if (index === 1) step.classList.add('active');
                            break;
                    }
                });
            }

            async loadKYCData() {
                try {
                    const response = await this.apiRequest('/api/kyc/status');
                    const kycData = response.data.kyc_submission;
                    
                    if (kycData) {
                        this.updateKYCForm(kycData);
                    }
                } catch (error) {
                    console.error('Error loading KYC data:', error);
                }
            }

            updateKYCForm(kycData) {
                // Populate form with existing KYC data
                const idType = document.getElementById('kyc-id-type');
                const idNumber = document.getElementById('kyc-id-number');
                
                if (idType && kycData.id_type) {
                    idType.value = kycData.id_type;
                }
                
                if (idNumber && kycData.id_number) {
                    idNumber.value = kycData.id_number;
                }
                
                // Update KYC status display
                const statusText = document.getElementById('kyc-status-text');
                const kycBadge = document.getElementById('kyc-badge');
                
                if (statusText) {
                    statusText.textContent = kycData.status || 'Not submitted';
                }
                
                if (kycBadge) {
                    kycBadge.textContent = kycData.status || 'Pending';
                    kycBadge.className = `badge ${this.getKYCStatusColor(kycData.status || 'pending')}`;
                }
                
                // Update KYC steps
                this.updateKYCSteps(kycData.status || 'not_submitted');
            }

            async submitKYC(formData) {
                try {
                    const response = await this.apiRequest('/api/kyc', {
                        method: 'POST',
                        body: formData
                    });
                    
                    this.showToast('KYC submitted successfully! Verification typically takes 24-48 hours.', 'success');
                    this.switchProfileTab('kyc');
                    this.loadProfileData();
                    
                } catch (error) {
                    throw error;
                }
            }

            // ==================== REFERRAL METHODS ====================
            async loadReferralData() {
                if (!this.state.isAuthenticated) return;

                try {
                    const response = await this.apiRequest('/api/referrals/stats');
                    this.updateReferralUI(response.data);
                } catch (error) {
                    console.error('Error loading referral data:', error);
                }
            }

            updateReferralUI(data) {
                // Update referral stats
                const totalReferrals = document.getElementById('total-referrals');
                if (totalReferrals) {
                    totalReferrals.textContent = data.stats.total_referrals || 0;
                }

                const activeReferrals = document.getElementById('active-referrals');
                if (activeReferrals) {
                    activeReferrals.textContent = data.stats.active_referrals || 0;
                }

                const totalReferralEarnings = document.getElementById('total-referral-earnings');
                if (totalReferralEarnings) {
                    totalReferralEarnings.textContent = this.formatCurrency(data.stats.total_earnings || 0);
                }

                const pendingReferralEarnings = document.getElementById('pending-referral-earnings');
                if (pendingReferralEarnings) {
                    pendingReferralEarnings.textContent = this.formatCurrency(data.stats.pending_earnings || 0);
                }

                const referralCount = document.getElementById('referral-count');
                if (referralCount) {
                    referralCount.textContent = `${data.stats.total_referrals || 0} friends`;
                }

                // Update referral friends list
                this.updateReferralFriendsList(data.referrals);
            }

            updateReferralFriendsList(referrals) {
                const container = document.getElementById('referral-friends-list');
                if (!container) return;

                if (!referrals || referrals.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-lg">
                            <i class="fas fa-user-friends fa-3x text-muted mb-md"></i>
                            <p class="text-muted">No referrals yet. Share your link to start earning!</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = referrals.map(friend => `
                    <div class="friend-item">
                        <div class="friend-avatar">
                            ${this.generateAvatarInitials(friend.referred_user?.full_name || 'Friend')}
                        </div>
                        <div class="friend-info">
                            <div class="friend-name">${friend.referred_user?.full_name || 'Anonymous'}</div>
                            <div class="friend-date">Joined ${this.formatRelativeTime(friend.createdAt)}</div>
                        </div>
                        <div class="friend-earnings">
                            â‚¦${(friend.earnings || 0).toLocaleString()}
                        </div>
                    </div>
                `).join('');
            }

            copyToClipboard(elementId) {
                const element = document.getElementById(elementId);
                if (!element) return;

                element.select();
                element.setSelectionRange(0, 99999); // For mobile devices

                try {
                    navigator.clipboard.writeText(element.value);
                    this.showToast('Copied to clipboard!', 'success');
                } catch (err) {
                    // Fallback for older browsers
                    document.execCommand('copy');
                    this.showToast('Copied to clipboard!', 'success');
                }
            }

            shareReferral(platform) {
                const referralLink = document.getElementById('referral-link')?.value;
                const referralCode = this.state.currentUser?.referral_code;

                if (!referralLink) {
                    this.showToast('No referral link available', 'error');
                    return;
                }

                const message = `Join Raw Wealthy and start earning from raw materials investments! Use my referral code ${referralCode} or click: ${referralLink}`;

                let shareUrl;
                switch (platform) {
                    case 'whatsapp':
                        shareUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
                        break;
                    case 'telegram':
                        shareUrl = `https://t.me/share/url?url=${encodeURIComponent(referralLink)}&text=${encodeURIComponent(message)}`;
                        break;
                    case 'facebook':
                        shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(referralLink)}`;
                        break;
                    case 'twitter':
                        shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(message)}`;
                        break;
                    case 'email':
                        shareUrl = `mailto:?subject=Join Raw Wealthy&body=${encodeURIComponent(message)}`;
                        break;
                    default:
                        return;
                }

                window.open(shareUrl, '_blank');
            }

            // ==================== SUPPORT METHODS ====================
            selectSupportCategory(category) {
                // Remove active class from all categories
                document.querySelectorAll('.support-category').forEach(el => {
                    el.classList.remove('active');
                });
                
                // Add active class to selected category
                event.target.closest('.support-category').classList.add('active');
                
                // Update category in form
                const categorySelect = document.getElementById('support-category');
                if (categorySelect) {
                    categorySelect.value = category;
                }
            }

            toggleFAQ(index) {
                const faqItem = event.target.closest('.faq-item');
                faqItem.classList.toggle('active');
            }

            async loadSupportTickets() {
                try {
                    const response = await this.apiRequest('/api/support/tickets');
                    this.updateSupportTicketsList(response.data.tickets);
                } catch (error) {
                    console.error('Error loading support tickets:', error);
                }
            }

            updateSupportTicketsList(tickets) {
                const container = document.getElementById('support-tickets-list');
                if (!container) return;

                if (!tickets || tickets.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-lg">
                            <i class="fas fa-inbox fa-3x text-muted mb-md"></i>
                            <h3 class="mb-sm">No support tickets</h3>
                            <p class="text-muted">You haven't created any support tickets yet.</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = tickets.map(ticket => `
                    <div class="support-ticket">
                        <div class="d-flex justify-between align-center mb-sm">
                            <div>
                                <h4 class="mb-xs">${ticket.subject}</h4>
                                <div class="d-flex gap-sm">
                                    <span class="badge ${this.getSupportStatusColor(ticket.status)}">
                                        ${ticket.status}
                                    </span>
                                    <span class="badge ${this.getSupportPriorityColor(ticket.priority)}">
                                        ${ticket.priority}
                                    </span>
                                    <span class="text-muted">${this.formatRelativeTime(ticket.createdAt)}</span>
                                </div>
                            </div>
                            <button class="btn btn-outline btn-sm" onclick="app.viewSupportTicket('${ticket.ticket_id}')">
                                View
                            </button>
                        </div>
                        <p class="text-muted">${ticket.message.substring(0, 100)}...</p>
                    </div>
                `).join('');
            }

            async submitSupportTicket(formData) {
                try {
                    const response = await this.apiRequest('/api/support', {
                        method: 'POST',
                        body: formData
                    });
                    
                    this.showToast('Support ticket created successfully! We will respond within 24 hours.', 'success');
                    this.loadSupportTickets();
                    
                } catch (error) {
                    throw error;
                }
            }

            // ==================== ADMIN METHODS ====================
            async loadAdminData() {
                if (!this.state.isAdmin) {
                    this.showToast('Access denied. Admin privileges required.', 'error');
                    this.showPage('dashboard');
                    return;
                }

                try {
                    const response = await this.apiRequest('/api/admin/dashboard');
                    this.updateAdminUI(response.data);
                } catch (error) {
                    console.error('Error loading admin data:', error);
                }
            }

            updateAdminUI(data) {
                // Update admin stats
                const container = document.getElementById('admin-stats');
                if (!container) return;

                const stats = data.stats.overview;
                container.innerHTML = `
                    <div class="admin-stat-card">
                        <div class="admin-stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="admin-stat-value">${stats.total_users?.toLocaleString() || 0}</div>
                        <div class="admin-stat-label">Total Users</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="admin-stat-value">${this.formatCurrency(stats.total_active_value || 0)}</div>
                        <div class="admin-stat-label">Active Investments</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="admin-stat-value">${this.formatCurrency(stats.total_deposits_amount || 0)}</div>
                        <div class="admin-stat-label">Total Deposits</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="admin-stat-value">${this.formatCurrency(stats.platform_revenue || 0)}</div>
                        <div class="admin-stat-label">Platform Revenue</div>
                    </div>
                `;

                // Initialize admin charts
                this.setupAdminCharts(data);
            }

            setupAdminCharts(data) {
                // User Growth Chart
                const userGrowthCtx = document.getElementById('user-growth-chart');
                if (userGrowthCtx) {
                    new Chart(userGrowthCtx.getContext('2d'), {
                        type: 'line',
                        data: {
                            labels: data.stats.user_growth?.map(item => `${item._id.month}/${item._id.year}`) || [],
                            datasets: [{
                                label: 'New Users',
                                data: data.stats.user_growth?.map(item => item.count) || [],
                                borderColor: '#3b82f6',
                                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                tension: 0.4
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false }
                            }
                        }
                    });
                }

                // Revenue Chart
                const revenueCtx = document.getElementById('revenue-chart');
                if (revenueCtx) {
                    new Chart(revenueCtx.getContext('2d'), {
                        type: 'bar',
                        data: {
                            labels: ['Deposits', 'Withdrawals', 'Fees', 'Referrals'],
                            datasets: [{
                                label: 'Amount',
                                data: [
                                    data.stats.period_stats.weekly.deposits || 0,
                                    data.stats.period_stats.weekly.withdrawals || 0,
                                    data.stats.overview.platform_revenue || 0,
                                    data.stats.overview.referral_earnings || 0
                                ],
                                backgroundColor: [
                                    '#10b981',
                                    '#ef4444',
                                    '#f59e0b',
                                    '#8b5cf6'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false }
                            }
                        }
                    });
                }
            }

            switchAdminTab(tab) {
                // Hide all tabs
                document.querySelectorAll('.admin-section').forEach(el => {
                    el.classList.add('d-none');
                });
                
                // Remove active class from all nav links
                document.querySelectorAll('.admin-nav-link').forEach(el => {
                    el.classList.remove('active');
                });
                
                // Show selected tab
                const tabElement = document.getElementById(`${tab}-tab`);
                if (tabElement) {
                    tabElement.classList.remove('d-none');
                }
                
                // Set active nav link
                const navLink = document.querySelector(`[onclick="app.switchAdminTab('${tab}')"]`);
                if (navLink) {
                    navLink.classList.add('active');
                }

                // Load tab-specific data
                switch (tab) {
                    case 'users':
                        this.loadAdminUsers();
                        break;
                    case 'investments':
                        this.loadAdminInvestments();
                        break;
                    case 'deposits':
                        this.loadAdminDeposits();
                        break;
                    case 'withdrawals':
                        this.loadAdminWithdrawals();
                        break;
                    case 'kyc':
                        this.loadAdminKYC();
                        break;
                    case 'transactions':
                        this.loadAdminTransactions();
                        break;
                    case 'plans':
                        this.loadAdminPlans();
                        break;
                }
            }

            async loadAdminUsers() {
                try {
                    const response = await this.apiRequest('/api/admin/users');
                    this.updateAdminUsersTable(response.data);
                } catch (error) {
                    console.error('Error loading admin users:', error);
                }
            }

            updateAdminUsersTable(data) {
                const tbody = document.getElementById('users-table-body');
                if (!tbody) return;

                tbody.innerHTML = data.users.map(user => `
                    <tr>
                        <td>
                            <div class="d-flex align-center gap-sm">
                                <div class="user-avatar-small">
                                    ${this.generateAvatarInitials(user.full_name)}
                                </div>
                                <div>
                                    <div class="font-weight-600">${user.full_name}</div>
                                    <div class="text-muted text-sm">${user.phone || 'No phone'}</div>
                                </div>
                            </div>
                        </td>
                        <td>${user.email}</td>
                        <td>
                            <span class="badge ${user.role === 'admin' ? 'badge-info' : 'badge-primary'}">
                                ${user.role}
                            </span>
                        </td>
                        <td>${this.formatCurrency(user.balance || 0)}</td>
                        <td>
                            <span class="badge ${user.is_active ? 'badge-success' : 'badge-error'}">
                                ${user.is_active ? 'Active' : 'Inactive'}
                            </span>
                        </td>
                        <td>
                            <div class="d-flex gap-xs">
                                <button class="btn btn-outline btn-sm" onclick="app.viewUserDetails('${user._id}')">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline btn-sm" onclick="app.editUser('${user._id}')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline btn-sm" onclick="app.toggleUserStatus('${user._id}', ${!user.is_active})">
                                    <i class="fas fa-power-off"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `).join('');

                // Update pagination info
                const paginationInfo = document.getElementById('users-pagination-info');
                if (paginationInfo) {
                    paginationInfo.textContent = `Showing ${data.users.length} of ${data.pagination.total} users`;
                }

                // Update pagination buttons
                const prevBtn = document.getElementById('prev-users-btn');
                const nextBtn = document.getElementById('next-users-btn');
                
                if (prevBtn) {
                    prevBtn.disabled = data.pagination.page === 1;
                }
                
                if (nextBtn) {
                    nextBtn.disabled = data.pagination.page === data.pagination.pages;
                }
            }

            searchUsers() {
                const searchTerm = document.getElementById('user-search').value.toLowerCase();
                const rows = document.querySelectorAll('#users-table-body tr');
                
                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    row.style.display = text.includes(searchTerm) ? '' : 'none';
                });
            }

            filterUsers() {
                const roleFilter = document.getElementById('user-role-filter').value;
                const statusFilter = document.getElementById('user-status-filter').value;
                const rows = document.querySelectorAll('#users-table-body tr');
                
                rows.forEach(row => {
                    const role = row.querySelector('td:nth-child(3)').textContent.toLowerCase();
                    const status = row.querySelector('td:nth-child(5)').textContent.toLowerCase();
                    
                    const roleMatch = !roleFilter || role.includes(roleFilter);
                    const statusMatch = !statusFilter || status.includes(statusFilter);
                    
                    row.style.display = roleMatch && statusMatch ? '' : 'none';
                });
            }

            resetUserFilters() {
                document.getElementById('user-search').value = '';
                document.getElementById('user-role-filter').value = '';
                document.getElementById('user-status-filter').value = '';
                
                const rows = document.querySelectorAll('#users-table-body tr');
                rows.forEach(row => {
                    row.style.display = '';
                });
            }

            async viewUserDetails(userId) {
                try {
                    const response = await this.apiRequest(`/api/admin/users/${userId}`);
                    this.showUserDetailsModal(response.data);
                } catch (error) {
                    console.error('Error viewing user details:', error);
                }
            }

            async toggleUserStatus(userId, newStatus) {
                try {
                    await this.apiRequest(`/api/admin/users/${userId}/status`, {
                        method: 'PUT',
                        body: { is_active: newStatus }
                    });
                    
                    this.showToast(`User ${newStatus ? 'activated' : 'deactivated'} successfully`, 'success');
                    this.loadAdminUsers();
                } catch (error) {
                    console.error('Error toggling user status:', error);
                }
            }

            generateReport() {
                // Generate and download report
                const data = {
                    timestamp: new Date().toISOString(),
                    user: this.state.currentUser,
                    platform: 'Raw Wealthy'
                };
                
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `raw-wealthy-report-${Date.now()}.json`;
                a.click();
                URL.revokeObjectURL(url);
            }

            // ==================== NOTIFICATIONS METHODS ====================
            async loadNotifications() {
                if (!this.state.isAuthenticated) return;

                try {
                    const response = await this.apiRequest('/api/notifications');
                    this.state.notifications = response.data.notifications || [];
                    this.state.unreadNotifications = response.data.unread_count || 0;
                    
                    this.updateNotificationBell();
                    
                    if (this.state.currentPage === 'notifications') {
                        this.updateNotificationsList();
                    }
                } catch (error) {
                    console.error('Error loading notifications:', error);
                }
            }

            updateNotificationBell() {
                const bell = document.getElementById('notification-bell');
                const count = document.getElementById('notification-count');
                
                if (bell && this.state.isAuthenticated) {
                    bell.classList.remove('d-none');
                }
                
                if (count) {
                    count.textContent = this.state.unreadNotifications;
                    count.style.display = this.state.unreadNotifications > 0 ? 'block' : 'none';
                }
            }

            updateNotificationsList() {
                const container = document.getElementById('notifications-list');
                if (!container) return;

                if (this.state.notifications.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-xl">
                            <i class="fas fa-bell-slash fa-3x text-muted mb-md"></i>
                            <h3 class="mb-sm">No notifications</h3>
                            <p class="text-muted">You're all caught up! No new notifications.</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = this.state.notifications.map(notif => `
                    <div class="notification-item ${!notif.is_read ? 'unread' : ''}">
                        <div class="d-flex gap-md">
                            <div class="notification-icon ${notif.type_color || 'blue'}">
                                <i class="fas fa-${this.getNotificationIcon(notif.type)}"></i>
                            </div>
                            <div class="flex-1">
                                <div class="d-flex justify-between align-start mb-xs">
                                    <h4 class="mb-xs">${notif.title}</h4>
                                    <div class="text-muted text-sm">${this.formatRelativeTime(notif.createdAt)}</div>
                                </div>
                                <p class="text-muted mb-sm">${notif.message}</p>
                                ${notif.action_url ? `
                                    <a href="${notif.action_url}" class="btn btn-outline btn-sm">View Details</a>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            async markAllNotificationsRead() {
                try {
                    await this.apiRequest('/api/notifications/read-all', {
                        method: 'POST'
                    });
                    
                    this.state.unreadNotifications = 0;
                    this.updateNotificationBell();
                    this.loadNotifications();
                    this.showToast('All notifications marked as read', 'success');
                } catch (error) {
                    console.error('Error marking notifications as read:', error);
                }
            }

            async clearAllNotifications() {
                // This would require a backend endpoint
                // For now, just clear from frontend
                this.state.notifications = [];
                this.updateNotificationsList();
                this.showToast('Notifications cleared', 'success');
            }

            filterNotifications(filter) {
                const buttons = document.querySelectorAll('#notifications-page .btn-outline');
                buttons.forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');

                // Filter notifications based on selection
                // Implementation would filter the notifications list
            }

            // ==================== TRANSACTION METHODS ====================
            async loadTransactions() {
                try {
                    const response = await this.apiRequest('/api/transactions');
                    return response.data;
                } catch (error) {
                    console.error('Error loading transactions:', error);
                    return null;
                }
            }

            getTransactionIcon(type) {
                switch (type) {
                    case 'deposit': return 'fa-arrow-down';
                    case 'withdrawal': return 'fa-arrow-up';
                    case 'investment': return 'fa-chart-line';
                    case 'earning': return 'fa-money-bill-wave';
                    case 'referral': return 'fa-user-friends';
                    case 'bonus': return 'fa-gift';
                    default: return 'fa-exchange-alt';
                }
            }

            getTransactionColor(type) {
                switch (type) {
                    case 'deposit':
                    case 'earning':
                    case 'referral':
                    case 'bonus':
                        return 'bg-success';
                    case 'withdrawal':
                    case 'fee':
                        return 'bg-error';
                    default:
                        return 'bg-info';
                }
            }

            // ==================== FILE UPLOAD METHODS ====================
            setupFileUploads() {
                // Investment proof upload
                const investProof = document.getElementById('investment-proof');
                if (investProof) {
                    investProof.addEventListener('change', (e) => {
                        this.previewFile(e.target.files[0], 'investment-preview');
                    });
                }

                // Deposit proof upload
                const depositProof = document.getElementById('deposit-proof');
                if (depositProof) {
                    depositProof.addEventListener('change', (e) => {
                        this.previewFile(e.target.files[0], 'deposit-preview');
                    });
                }

                // KYC file uploads
                ['kyc-id-front', 'kyc-id-back', 'kyc-selfie', 'kyc-address-proof'].forEach(id => {
                    const input = document.getElementById(id);
                    if (input) {
                        input.addEventListener('change', (e) => {
                            this.previewFile(e.target.files[0], `${id}-preview`);
                        });
                    }
                });

                // Support attachments
                const supportAttachments = document.getElementById('support-attachments');
                if (supportAttachments) {
                    supportAttachments.addEventListener('change', (e) => {
                        this.previewMultipleFiles(e.target.files, 'support-attachments-preview');
                    });
                }
            }

            previewFile(file, previewId) {
                if (!file) return;

                const preview = document.getElementById(previewId);
                if (!preview) return;

                const reader = new FileReader();
                reader.onload = (e) => {
                    preview.src = e.target.result;
                    preview.classList.add('active');
                };
                reader.readAsDataURL(file);
            }

            previewMultipleFiles(files, previewId) {
                const container = document.getElementById(previewId);
                if (!container) return;

                container.innerHTML = '';
                Array.from(files).forEach((file, index) => {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const div = document.createElement('div');
                        div.className = 'file-preview-item';
                        div.innerHTML = `
                            <div class="d-flex align-center justify-between p-sm bg-secondary rounded">
                                <div class="d-flex align-center gap-sm">
                                    <i class="fas fa-file text-muted"></i>
                                    <span class="text-sm">${file.name}</span>
                                </div>
                                <button type="button" class="btn btn-outline btn-sm" onclick="this.parentElement.remove()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        `;
                        container.appendChild(div);
                    };
                    reader.readAsDataURL(file);
                });
            }

            async uploadFile(file, folder = 'general') {
                const formData = new FormData();
                formData.append('file', file);
                formData.append('folder', folder);

                try {
                    const response = await this.apiRequest('/api/upload', {
                        method: 'POST',
                        body: formData,
                        headers: {}
                    });
                    return response.data.fileUrl;
                } catch (error) {
                    console.error('Error uploading file:', error);
                    throw error;
                }
            }

            // ==================== FORM HANDLING ====================
            setupFormHandlers() {
                // Login form
                const loginForm = document.getElementById('login-form');
                if (loginForm) {
                    loginForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleLogin();
                    });
                }

                // Register form
                const registerForm = document.getElementById('register-form');
                if (registerForm) {
                    registerForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleRegister();
                    });

                    // Password strength indicator
                    const passwordInput = document.getElementById('register-password');
                    if (passwordInput) {
                        passwordInput.addEventListener('input', (e) => {
                            this.checkPasswordStrength(e.target.value);
                        });
                    }
                }

                // Investment form
                const investForm = document.getElementById('invest-form');
                if (investForm) {
                    investForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleInvestment();
                    });

                    // Amount validation
                    const amountInput = document.getElementById('investment-amount');
                    const planSelect = document.getElementById('investment-plan');
                    
                    if (amountInput && planSelect) {
                        planSelect.addEventListener('change', (e) => {
                            const selected = planSelect.options[planSelect.selectedIndex];
                            const min = selected.dataset.min;
                            const max = selected.dataset.max;
                            
                            amountInput.min = min;
                            amountInput.placeholder = `Minimum: â‚¦${parseInt(min).toLocaleString()}`;
                            
                            if (max && max !== 'âˆž') {
                                amountInput.max = max;
                                amountInput.placeholder += `, Maximum: â‚¦${parseInt(max).toLocaleString()}`;
                            }
                        });
                    }
                }

                // Deposit form
                const depositForm = document.getElementById('deposit-form');
                if (depositForm) {
                    depositForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleDeposit();
                    });
                }

                // Withdrawal form
                const withdrawForm = document.getElementById('withdraw-form');
                if (withdrawForm) {
                    withdrawForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleWithdrawal();
                    });

                    // Calculate withdrawal fee
                    const amountInput = document.getElementById('withdraw-amount');
                    if (amountInput) {
                        amountInput.addEventListener('input', (e) => {
                            this.calculateWithdrawalFee(parseFloat(e.target.value) || 0);
                        });
                    }
                }

                // Forgot password form
                const forgotForm = document.getElementById('forgot-password-form');
                if (forgotForm) {
                    forgotForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleForgotPassword();
                    });
                }

                // KYC form
                const kycForm = document.getElementById('kyc-form');
                if (kycForm) {
                    kycForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleKYCSubmit();
                    });
                }

                // Support form
                const supportForm = document.getElementById('support-form');
                if (supportForm) {
                    supportForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleSupportSubmit();
                    });
                }
            }

            async handleLogin() {
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                
                try {
                    await this.login(email, password);
                } catch (error) {
                    this.showToast(error.message || 'Login failed', 'error');
                }
            }

            async handleRegister() {
                const formData = {
                    full_name: document.getElementById('register-fullname').value,
                    email: document.getElementById('register-email').value,
                    phone: document.getElementById('register-phone').value,
                    password: document.getElementById('register-password').value,
                    referral_code: document.getElementById('register-referral').value || undefined,
                    risk_tolerance: document.getElementById('register-risk-tolerance').value,
                    investment_strategy: document.getElementById('register-investment-strategy').value
                };

                // Validate password match
                const confirmPassword = document.getElementById('register-confirm-password').value;
                if (formData.password !== confirmPassword) {
                    this.showToast('Passwords do not match', 'error');
                    return;
                }

                try {
                    await this.register(formData);
                } catch (error) {
                    this.showToast(error.message || 'Registration failed', 'error');
                }
            }

            async handleInvestment() {
                const planId = document.getElementById('investment-plan').value;
                const amount = parseFloat(document.getElementById('investment-amount').value);
                const autoRenew = document.getElementById('auto-renew').checked;
                const proofFile = document.getElementById('investment-proof').files[0];

                if (!planId) {
                    this.showToast('Please select an investment plan', 'error');
                    return;
                }

                if (amount < this.config.MIN_INVESTMENT) {
                    this.showToast(`Minimum investment is â‚¦${this.config.MIN_INVESTMENT.toLocaleString()}`, 'error');
                    return;
                }

                if (!proofFile) {
                    this.showToast('Please upload payment proof', 'error');
                    return;
                }

                try {
                    // Upload proof first
                    const proofUrl = await this.uploadFile(proofFile, 'investment-proofs');
                    
                    // Create investment
                    const response = await this.apiRequest('/api/investments', {
                        method: 'POST',
                        body: {
                            plan_id: planId,
                            amount: amount,
                            auto_renew: autoRenew,
                            payment_proof_url: proofUrl
                        }
                    });

                    this.showToast('Investment created successfully! Awaiting approval.', 'success');
                    this.closeModal('invest-modal');
                    this.loadDashboardData();
                } catch (error) {
                    this.showToast(error.message || 'Investment failed', 'error');
                }
            }

            async handleDeposit() {
                const amount = parseFloat(document.getElementById('deposit-amount').value);
                const method = document.getElementById('deposit-method').value;
                const proofFile = document.getElementById('deposit-proof').files[0];

                if (amount < this.config.MIN_DEPOSIT) {
                    this.showToast(`Minimum deposit is â‚¦${this.config.MIN_DEPOSIT.toLocaleString()}`, 'error');
                    return;
                }

                if (!proofFile) {
                    this.showToast('Please upload payment proof', 'error');
                    return;
                }

                try {
                    // Upload proof
                    const proofUrl = await this.uploadFile(proofFile, 'deposit-proofs');
                    
                    // Create deposit
                    const response = await this.apiRequest('/api/deposits', {
                        method: 'POST',
                        body: {
                            amount: amount,
                            payment_method: method,
                            payment_proof_url: proofUrl
                        }
                    });

                    this.showToast('Deposit submitted successfully! Awaiting approval.', 'success');
                    this.closeModal('deposit-modal');
                    this.loadDashboardData();
                } catch (error) {
                    this.showToast(error.message || 'Deposit failed', 'error');
                }
            }

            async handleWithdrawal() {
                const amount = parseFloat(document.getElementById('withdraw-amount').value);
                const method = document.getElementById('withdraw-method').value;

                if (amount < this.config.MIN_WITHDRAWAL) {
                    this.showToast(`Minimum withdrawal is â‚¦${this.config.MIN_WITHDRAWAL.toLocaleString()}`, 'error');
                    return;
                }

                if (amount > this.state.userStats.balance) {
                    this.showToast('Insufficient balance', 'error');
                    return;
                }

                try {
                    const response = await this.apiRequest('/api/withdrawals', {
                        method: 'POST',
                        body: {
                            amount: amount,
                            payment_method: method
                        }
                    });

                    this.showToast('Withdrawal requested successfully!', 'success');
                    this.closeModal('withdraw-modal');
                    this.loadDashboardData();
                } catch (error) {
                    this.showToast(error.message || 'Withdrawal failed', 'error');
                }
            }

            calculateWithdrawalFee(amount) {
                const feeEl = document.getElementById('withdrawal-fee');
                const netEl = document.getElementById('net-amount');
                
                if (!feeEl || !netEl) return;

                const fee = amount * (this.config.PLATFORM_FEE_PERCENT / 100);
                const net = amount - fee;

                feeEl.textContent = `Platform fee: ${this.formatCurrency(fee)}`;
                netEl.textContent = `Net amount: ${this.formatCurrency(net)}`;
            }

            async handleForgotPassword() {
                const email = document.getElementById('forgot-email').value;

                try {
                    await this.forgotPassword(email);
                } catch (error) {
                    this.showToast(error.message || 'Failed to send reset email', 'error');
                }
            }

            async handleKYCSubmit() {
                const idType = document.getElementById('kyc-id-type').value;
                const idNumber = document.getElementById('kyc-id-number').value;
                const idFront = document.getElementById('kyc-id-front').files[0];
                const selfie = document.getElementById('kyc-selfie').files[0];

                if (!idFront || !selfie) {
                    this.showToast('ID front and selfie with ID are required', 'error');
                    return;
                }

                try {
                    // Upload files
                    const idFrontUrl = await this.uploadFile(idFront, 'kyc-documents');
                    const selfieUrl = await this.uploadFile(selfie, 'kyc-documents');
                    
                    let idBackUrl, addressProofUrl;
                    
                    const idBack = document.getElementById('kyc-id-back').files[0];
                    if (idBack) {
                        idBackUrl = await this.uploadFile(idBack, 'kyc-documents');
                    }
                    
                    const addressProof = document.getElementById('kyc-address-proof').files[0];
                    if (addressProof) {
                        addressProofUrl = await this.uploadFile(addressProof, 'kyc-documents');
                    }

                    // Submit KYC
                    const formData = {
                        id_type: idType,
                        id_number: idNumber,
                        id_front_url: idFrontUrl,
                        id_back_url: idBackUrl,
                        selfie_with_id_url: selfieUrl,
                        address_proof_url: addressProofUrl
                    };

                    await this.submitKYC(formData);
                } catch (error) {
                    this.showToast(error.message || 'KYC submission failed', 'error');
                }
            }

            async handleSupportSubmit() {
                const subject = document.getElementById('support-subject').value;
                const category = document.getElementById('support-category').value;
                const priority = document.getElementById('support-priority').value;
                const message = document.getElementById('support-message').value;
                const attachments = document.getElementById('support-attachments').files;

                try {
                    const formData = {
                        subject: subject,
                        message: message,
                        category: category,
                        priority: priority
                    };

                    await this.submitSupportTicket(formData);
                } catch (error) {
                    this.showToast(error.message || 'Failed to create support ticket', 'error');
                }
            }

            // ==================== UTILITY METHODS ====================
            getActionIcon(type) {
                switch (type) {
                    case 'investment': return 'fas fa-chart-line';
                    case 'deposit': return 'fas fa-wallet';
                    case 'withdrawal': return 'fas fa-money-bill-wave';
                    case 'kyc': return 'fas fa-id-card';
                    default: return 'fas fa-clock';
                }
            }

            getActionColor(type) {
                switch (type) {
                    case 'investment': return 'bg-success';
                    case 'deposit': return 'bg-info';
                    case 'withdrawal': return 'bg-error';
                    case 'kyc': return 'bg-warning';
                    default: return 'bg-primary';
                }
            }

            getKYCStatusColor(status) {
                switch (status) {
                    case 'verified': return 'badge-success';
                    case 'pending': return 'badge-warning';
                    case 'rejected': return 'badge-error';
                    default: return 'badge-info';
                }
            }

            getSupportStatusColor(status) {
                switch (status) {
                    case 'resolved': return 'badge-success';
                    case 'in_progress': return 'badge-info';
                    case 'open': return 'badge-warning';
                    case 'closed': return 'badge-error';
                    default: return 'badge-primary';
                }
            }

            getSupportPriorityColor(priority) {
                switch (priority) {
                    case 'urgent': return 'badge-error';
                    case 'high': return 'badge-warning';
                    case 'medium': return 'badge-info';
                    case 'low': return 'badge-success';
                    default: return 'badge-primary';
                }
            }

            getNotificationIcon(type) {
                switch (type) {
                    case 'info': return 'info-circle';
                    case 'success': return 'check-circle';
                    case 'warning': return 'exclamation-triangle';
                    case 'error': return 'times-circle';
                    case 'investment': return 'chart-line';
                    case 'withdrawal': return 'money-bill-wave';
                    case 'deposit': return 'wallet';
                    case 'kyc': return 'id-card';
                    case 'referral': return 'user-friends';
                    default: return 'bell';
                }
            }

            capitalize(str) {
                return str.charAt(0).toUpperCase() + str.slice(1);
            }

            checkPasswordStrength(password) {
                const strengthEl = document.getElementById('password-strength');
                if (!strengthEl) return;

                let strength = 0;
                let message = '';
                let color = '';

                if (password.length >= 8) strength++;
                if (/[A-Z]/.test(password)) strength++;
                if (/[0-9]/.test(password)) strength++;
                if (/[^A-Za-z0-9]/.test(password)) strength++;

                switch (strength) {
                    case 0:
                    case 1:
                        message = 'Weak';
                        color = 'text-error';
                        break;
                    case 2:
                        message = 'Fair';
                        color = 'text-warning';
                        break;
                    case 3:
                        message = 'Good';
                        color = 'text-info';
                        break;
                    case 4:
                        message = 'Strong';
                        color = 'text-success';
                        break;
                }

                strengthEl.innerHTML = `
                    <div class="d-flex align-center gap-sm">
                        <span>Strength:</span>
                        <span class="${color}">${message}</span>
                    </div>
                `;
            }

            // ==================== EVENT LISTENERS ====================
            setupEventListeners() {
                // Navbar toggler
                const navbarToggler = document.getElementById('navbar-toggler');
                if (navbarToggler) {
                    navbarToggler.addEventListener('click', () => {
                        document.getElementById('navbar-menu').classList.toggle('active');
                    });
                }

                // Theme toggle
                const themeToggle = document.getElementById('theme-toggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', () => {
                        this.toggleTheme();
                    });
                }

                // Close mobile menu when clicking outside
                document.addEventListener('click', (e) => {
                    const navbarMenu = document.getElementById('navbar-menu');
                    const navbarToggler = document.getElementById('navbar-toggler');
                    
                    if (navbarMenu && navbarMenu.classList.contains('active') && 
                        !navbarMenu.contains(e.target) && 
                        !navbarToggler.contains(e.target)) {
                        navbarMenu.classList.remove('active');
                    }
                });

                // Back to top button
                const backToTop = document.getElementById('back-to-top');
                if (backToTop) {
                    window.addEventListener('scroll', () => {
                        if (window.pageYOffset > 300) {
                            backToTop.style.display = 'flex';
                        } else {
                            backToTop.style.display = 'none';
                        }
                    });

                    backToTop.addEventListener('click', () => {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                }

                // Form submissions
                this.setupFormHandlers();

                // File uploads
                this.setupFileUploads();

                // Modal close buttons
                document.querySelectorAll('.modal-close').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const modal = e.target.closest('.modal');
                        if (modal) {
                            modal.classList.remove('active');
                            document.body.classList.remove('modal-open');
                        }
                    });
                });

                // Close modal on backdrop click
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) {
                            modal.classList.remove('active');
                            document.body.classList.remove('modal-open');
                        }
                    });
                });

                // Password toggle buttons
                document.querySelectorAll('.password-toggle').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const input = e.target.closest('.password-input').querySelector('input');
                        const icon = e.target.querySelector('i');
                        
                        if (input.type === 'password') {
                            input.type = 'text';
                            icon.className = 'fas fa-eye-slash';
                        } else {
                            input.type = 'password';
                            icon.className = 'fas fa-eye';
                        }
                    });
                });

                // Window resize
                window.addEventListener('resize', this.debounce(() => {
                    this.handleResize();
                }, 250));

                // Online/offline detection
                window.addEventListener('online', () => this.handleOnlineStatus(true));
                window.addEventListener('offline', () => this.handleOnlineStatus(false));
            }

            handleResize() {
                // Close mobile menu on large screens
                if (window.innerWidth >= 768) {
                    const navbarMenu = document.getElementById('navbar-menu');
                    if (navbarMenu) {
                        navbarMenu.classList.remove('active');
                    }
                }
            }

            handleOnlineStatus(online) {
                this.state.online = online;
                const indicator = document.getElementById('offline-indicator');
                
                if (indicator) {
                    if (!online) {
                        indicator.classList.remove('d-none');
                        this.showToast('You are offline. Some features may be limited.', 'warning');
                    } else {
                        indicator.classList.add('d-none');
                        this.showToast('You are back online!', 'success');
                    }
                }
            }

            // ==================== THEME MANAGEMENT ====================
            initTheme() {
                const savedTheme = localStorage.getItem('raw_wealthy_theme') || 'dark';
                document.documentElement.setAttribute('data-theme', savedTheme);
                this.updateThemeIcon(savedTheme);
            }

            toggleTheme() {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('raw_wealthy_theme', newTheme);
                this.updateThemeIcon(newTheme);
            }

            updateThemeIcon(theme) {
                const icon = document.querySelector('#theme-toggle i');
                if (icon) {
                    icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
                }
            }

            // ==================== MODAL MANAGEMENT ====================
            openModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.add('active');
                    document.body.classList.add('modal-open');
                }
            }

            closeModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.remove('active');
                    document.body.classList.remove('modal-open');
                }
            }

            togglePassword(inputId) {
                const input = document.getElementById(inputId);
                const icon = event.target.querySelector('i');
                
                if (input.type === 'password') {
                    input.type = 'text';
                    icon.className = 'fas fa-eye-slash';
                } else {
                    input.type = 'password';
                    icon.className = 'fas fa-eye';
                }
            }

            // ==================== NAVBAR MANAGEMENT ====================
            renderNavbar() {
                const navbarNav = document.getElementById('navbar-nav');
                const authButtons = document.getElementById('auth-buttons');
                
                if (!navbarNav || !authButtons) return;

                // Clear existing content
                navbarNav.innerHTML = '';
                authButtons.innerHTML = '';

                if (this.state.isAuthenticated) {
                    // User is logged in
                    navbarNav.innerHTML = `
                        <li><a href="#" class="nav-link" onclick="app.showPage('dashboard'); return false;">
                            <i class="fas fa-tachometer-alt nav-icon"></i>
                            <span>Dashboard</span>
                        </a></li>
                        <li><a href="#" class="nav-link" onclick="app.showPage('investment-plans'); return false;">
                            <i class="fas fa-chart-line nav-icon"></i>
                            <span>Investment Plans</span>
                        </a></li>
                        <li><a href="#" class="nav-link" onclick="app.showPage('profile'); return false;">
                            <i class="fas fa-user nav-icon"></i>
                            <span>Profile</span>
                        </a></li>
                        <li><a href="#" class="nav-link" onclick="app.showPage('referral'); return false;">
                            <i class="fas fa-user-friends nav-icon"></i>
                            <span>Referral</span>
                        </a></li>
                        <li><a href="#" class="nav-link" onclick="app.showPage('support'); return false;">
                            <i class="fas fa-headset nav-icon"></i>
                            <span>Support</span>
                        </a></li>
                        ${this.state.isAdmin ? `
                        <li><a href="#" class="nav-link" onclick="app.showPage('admin'); return false;">
                            <i class="fas fa-shield-alt nav-icon"></i>
                            <span>Admin</span>
                        </a></li>
                        ` : ''}
                    `;

                    authButtons.innerHTML = `
                        <button class="btn btn-outline btn-sm" onclick="app.logout()">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    `;
                } else {
                    // User is not logged in
                    navbarNav.innerHTML = `
                        <li><a href="#" class="nav-link" onclick="app.showPage('home'); return false;">
                            <i class="fas fa-home nav-icon"></i>
                            <span>Home</span>
                        </a></li>
                        <li><a href="#" class="nav-link" onclick="app.showPage('investment-plans'); return false;">
                            <i class="fas fa-chart-line nav-icon"></i>
                            <span>Investment Plans</span>
                        </a></li>
                        <li><a href="#" class="nav-link" onclick="app.openModal('login-modal'); return false;">
                            <i class="fas fa-sign-in-alt nav-icon"></i>
                            <span>Login</span>
                        </a></li>
                        <li><a href="#" class="nav-link" onclick="app.openModal('register-modal'); return false;">
                            <i class="fas fa-user-plus nav-icon"></i>
                            <span>Register</span>
                        </a></li>
                        <li><a href="#" class="nav-link" onclick="app.showPage('support'); return false;">
                            <i class="fas fa-headset nav-icon"></i>
                            <span>Support</span>
                        </a></li>
                    `;

                    authButtons.innerHTML = `
                        <button class="btn btn-primary btn-sm" onclick="app.openModal('login-modal')">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </button>
                        <button class="btn btn-outline btn-sm" onclick="app.openModal('register-modal')">
                            <i class="fas fa-user-plus"></i> Register
                        </button>
                    `;
                }

                // Update active state
                this.updateNavbarActiveState();
            }

            updateNavbarActiveState() {
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });

                const currentPage = this.state.currentPage;
                const activeLink = document.querySelector(`[onclick*="${currentPage}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }

            closeMobileMenu() {
                const navbarMenu = document.getElementById('navbar-menu');
                if (navbarMenu) {
                    navbarMenu.classList.remove('active');
                }
            }

            // ==================== NOTIFICATION & TOAST ====================
            showToast(message, type = 'info') {
                const container = document.getElementById('toast-container');
                if (!container) return;

                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.innerHTML = `
                    <div class="toast-icon">
                        <i class="fas fa-${this.getToastIcon(type)}"></i>
                    </div>
                    <div class="toast-content">
                        <div class="toast-title">${this.getToastTitle(type)}</div>
                        <div class="toast-message">${message}</div>
                    </div>
                    <button class="toast-close" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                `;

                container.appendChild(toast);

                // Auto remove after duration
                setTimeout(() => {
                    if (toast.parentElement) {
                        toast.remove();
                    }
                }, this.config.TOAST_DURATION);
            }

            getToastIcon(type) {
                switch (type) {
                    case 'success': return 'check-circle';
                    case 'error': return 'times-circle';
                    case 'warning': return 'exclamation-triangle';
                    default: return 'info-circle';
                }
            }

            getToastTitle(type) {
                switch (type) {
                    case 'success': return 'Success';
                    case 'error': return 'Error';
                    case 'warning': return 'Warning';
                    default: return 'Information';
                }
            }

            showLoading(show) {
                const spinner = document.getElementById('loading-spinner');
                if (spinner) {
                    spinner.classList.toggle('d-none', !show);
                }
            }

            // ==================== SESSION MANAGEMENT ====================
            setupSessionTimeout() {
                if (!this.state.isAuthenticated) return;

                this.resetSessionTimer();
            }

            resetSessionTimer() {
                if (this.state.sessionTimer) {
                    clearTimeout(this.state.sessionTimer);
                }

                this.state.sessionTimer = setTimeout(() => {
                    this.showSessionTimeoutWarning();
                }, this.config.SESSION_TIMEOUT - 60000); // Show warning 1 minute before timeout
            }

            showSessionTimeoutWarning() {
                const modal = document.getElementById('session-timeout-modal');
                if (!modal) return;

                let seconds = 60;
                const timerElement = document.getElementById('session-timeout-seconds');
                const timer = setInterval(() => {
                    seconds--;
                    if (timerElement) {
                        timerElement.textContent = seconds;
                    }
                    if (seconds <= 0) {
                        clearInterval(timer);
                        this.logout();
                        this.closeModal('session-timeout-modal');
                    }
                }, 1000);

                this.openModal('session-timeout-modal');
            }

            extendSession() {
                this.resetSessionTimer();
                this.closeModal('session-timeout-modal');
                this.showToast('Session extended', 'success');
            }

            // ==================== AUTO REFRESH ====================
            setupAutoRefresh() {
                if (this.state.autoRefreshInterval) {
                    clearInterval(this.state.autoRefreshInterval);
                }

                this.state.autoRefreshInterval = setInterval(() => {
                    this.autoRefreshData();
                }, this.config.AUTO_REFRESH_INTERVAL);
            }

            autoRefreshData() {
                if (!this.state.isAuthenticated || !this.state.online) return;

                // Refresh dashboard data if on dashboard page
                if (this.state.currentPage === 'dashboard') {
                    this.loadDashboardData();
                }

                // Refresh notifications
                this.loadNotifications();
            }

            // ==================== OFFLINE DETECTION ====================
            setupOfflineDetection() {
                const indicator = document.createElement('div');
                indicator.id = 'offline-indicator';
                indicator.className = 'd-none';
                indicator.innerHTML = `
                    <i class="fas fa-wifi-slash"></i> You are currently offline. Some features may be limited.
                `;
                document.body.appendChild(indicator);

                this.handleOnlineStatus(navigator.onLine);
            }

            // ==================== SERVICE WORKER ====================
            initServiceWorker() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('/service-worker.js')
                        .then(registration => {
                            console.log('ServiceWorker registered:', registration);
                        })
                        .catch(error => {
                            console.log('ServiceWorker registration failed:', error);
                        });
                }
            }

            // ==================== INTERSECTION OBSERVER ====================
            setupIntersectionObserver() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animate-fade-in-up');
                        }
                    });
                }, {
                    threshold: 0.1
                });

                // Observe elements for animation
                document.querySelectorAll('.feature-card, .plan-card, .stat-card').forEach(el => {
                    observer.observe(el);
                });
            }

            // ==================== REFERRAL CHECK ====================
            checkReferralFromURL() {
                const urlParams = new URLSearchParams(window.location.search);
                const referralCode = urlParams.get('ref');
                
                if (referralCode && !this.state.isAuthenticated) {
                    localStorage.setItem('referral_code', referralCode);
                    
                    // Update referral input if register modal is opened
                    const referralInput = document.getElementById('register-referral');
                    if (referralInput) {
                        referralInput.value = referralCode;
                    }
                }
            }

            // ==================== TWO-FACTOR AUTH ====================
            showTwoFactorPrompt() {
                this.openModal('two-factor-modal');
            }

            async resendTwoFactorCode() {
                // Implementation for resending 2FA code
                this.showToast('Two-factor code resent', 'info');
            }

            async enableTwoFactorAuth() {
                // Implementation for enabling 2FA
                this.showToast('Two-factor authentication enabled', 'success');
            }

            // ==================== USER DOCUMENTS ====================
            async loadUserDocuments() {
                // Implementation for loading user documents
                const container = document.getElementById('documents-list');
                if (container) {
                    container.innerHTML = `
                        <div class="text-center py-lg">
                            <i class="fas fa-file-alt fa-3x text-muted mb-md"></i>
                            <h3 class="mb-sm">No Documents</h3>
                            <p class="text-muted">Your documents will appear here after submission.</p>
                        </div>
                    `;
                }
            }

            // ==================== INITIALIZATION COMPLETE ====================
        }

        // Initialize the application
        const app = new RawWealthyApp();

        // Make app globally available for onclick handlers
        window.app = app;

        // Additional CSS for missing elements
        const additionalCSS = `
            .feature-card {
                background: var(--bg-card);
                border-radius: var(--border-radius);
                padding: var(--spacing-lg);
                border: 1px solid var(--border-light);
                transition: all var(--transition);
            }
            
            .feature-card:hover {
                transform: translateY(-4px);
                box-shadow: var(--shadow);
            }
            
            .feature-icon {
                width: 60px;
                height: 60px;
                border-radius: 50%;
                background: var(--gradient-primary);
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: var(--font-size-xl);
                margin-bottom: var(--spacing-md);
            }
            
            .feature-title {
                font-size: var(--font-size-md);
                font-weight: 600;
                margin-bottom: var(--spacing-sm);
            }
            
            .feature-desc {
                color: var(--text-muted);
                font-size: var(--font-size-sm);
            }
            
            .testimonials-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: var(--spacing-lg);
            }
            
            .testimonial-card {
                background: var(--bg-card);
                border-radius: var(--border-radius);
                padding: var(--spacing-lg);
                border: 1px solid var(--border-light);
            }
            
            .testimonial-content {
                font-style: italic;
                color: var(--text-secondary);
                margin-bottom: var(--spacing-lg);
            }
            
            .testimonial-author {
                display: flex;
                align-items: center;
                gap: var(--spacing-md);
            }
            
            .author-avatar {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                background: var(--gradient-primary);
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: 700;
            }
            
            .author-name {
                font-weight: 600;
                margin-bottom: var(--spacing-xs);
            }
            
            .author-role {
                color: var(--text-muted);
                font-size: var(--font-size-sm);
            }
            
            .plan-details {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-sm);
                margin-bottom: var(--spacing-lg);
            }
            
            .plan-detail {
                display: flex;
                align-items: center;
                gap: var(--spacing-sm);
                color: var(--text-muted);
                font-size: var(--font-size-sm);
            }
            
            .user-avatar-small {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                background: var(--gradient-primary);
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: 700;
                font-size: var(--font-size-sm);
            }
            
            .notification-item {
                background: var(--bg-card);
                border-radius: var(--border-radius);
                padding: var(--spacing-lg);
                margin-bottom: var(--spacing-md);
                border: 1px solid var(--border-light);
            }
            
            .notification-item.unread {
                border-left: 4px solid var(--accent-gold);
            }
            
            .notification-icon {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: var(--font-size-lg);
            }
            
            .support-ticket {
                background: var(--bg-card);
                border-radius: var(--border-radius);
                padding: var(--spacing-lg);
                margin-bottom: var(--spacing-md);
                border: 1px solid var(--border-light);
            }
            
            .file-preview-item {
                margin-bottom: var(--spacing-sm);
            }
            
            .alert {
                background: var(--bg-secondary);
                border-radius: var(--border-radius);
                padding: var(--spacing-md);
                border-left: 4px solid var(--accent-gold);
                display: flex;
                align-items: flex-start;
                gap: var(--spacing-sm);
            }
            
            .alert.alert-info {
                border-left-color: var(--info);
            }
            
            .alert.alert-warning {
                border-left-color: var(--warning);
            }
            
            .alert.alert-success {
                border-left-color: var(--success);
            }
            
            .alert.alert-error {
                border-left-color: var(--error);
            }
        `;

        // Add additional CSS to the document
        const style = document.createElement('style');
        style.textContent = additionalCSS;
        document.head.appendChild(style);

        // Add smooth scroll behavior
        document.addEventListener('DOMContentLoaded', function() {
            // Add scroll behavior to navbar
            window.addEventListener('scroll', function() {
                const navbar = document.getElementById('navbar');
                if (window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });

            // Initialize tooltips
            const tooltips = document.querySelectorAll('[title]');
            tooltips.forEach(el => {
                el.addEventListener('mouseenter', function(e) {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'tooltip';
                    tooltip.textContent = this.title;
                    document.body.appendChild(tooltip);
                    
                    const rect = this.getBoundingClientRect();
                    tooltip.style.left = rect.left + 'px';
                    tooltip.style.top = (rect.top - tooltip.offsetHeight - 10) + 'px';
                });
                
                el.addEventListener('mouseleave', function() {
                    const tooltip = document.querySelector('.tooltip');
                    if (tooltip) {
                        tooltip.remove();
                    }
                });
            });
        });

        // PWA manifest
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }

        // Add manifest link
        const manifestLink = document.createElement('link');
        manifestLink.rel = 'manifest';
        manifestLink.href = '/manifest.json';
        document.head.appendChild(manifestLink);
    </script>

    <!-- PWA Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            const swContent = `
                self.addEventListener('install', event => {
                    event.waitUntil(
                        caches.open('raw-wealthy-v48').then(cache => {
                            return cache.addAll([
                                '/',
                                '/index.html',
                                '/manifest.json',
                                '/icon-192x192.png',
                                '/icon-512x512.png'
                            ]);
                        })
                    );
                });

                self.addEventListener('fetch', event => {
                    event.respondWith(
                        caches.match(event.request).then(response => {
                            return response || fetch(event.request);
                        })
                    );
                });
            `;

            const blob = new Blob([swContent], { type: 'application/javascript' });
            const swURL = URL.createObjectURL(blob);
            
            navigator.serviceWorker.register(swURL)
                .then(registration => console.log('SW registered'))
                .catch(error => console.log('SW registration failed:', error));
        }
    </script>
</body>
</html>y
